@echo off
chcp 65001 > nul
echo ===============================================
echo PHP???????????
echo ===============================================
echo.

echo ??????PHP????????????PHP???
echo ?????
echo 1. ????????
echo 2. ??????
echo 3. ??????????
echo.
echo ????????????
echo.
pause

echo.
echo ?????????PHP??...
echo.

if exist portable_php\php.exe (
    echo PHP???????????
) else (
    echo ????PHP???...
    powershell -ExecutionPolicy Bypass -File download_php.ps1
    
    if not exist portable_php\php.exe (
        echo PHP??????????PHP?
        pause
        exit /b 1
    )
    
    echo PHP?????
)

echo.
echo ??????PHP????...
echo.

portable_php\php.exe fix_all_php_errors.php

echo.
echo ????????????????
echo.
pause
