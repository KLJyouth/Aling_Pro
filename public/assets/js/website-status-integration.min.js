 class WebsiteStatusMonitor { constructor() { this.metrics = { loadTime: 0, jsErrors: [], resourceErrors: [], performanceScore: 0, memoryUsage: null, connectionType: null, isOnline: navigator.onLine }; this.init();  } init() { this.measureLoadTime(); this.setupErrorHandling(); this.checkResources(); this.monitorPerformance(); this.checkNetworkStatus(); this.monitorMemoryUsage(); } measureLoadTime() { if (performance && performance.timing) { const navigation = performance.timing; this.metrics.loadTime = navigation.loadEventEnd - navigation.navigationStart;  } } setupErrorHandling() { window.addEventListener('error', (event) => { const error = { type: 'javascript', message: event.message, filename: event.filename, line: event.lineno, column: event.colno, timestamp: new Date().toISOString() }; this.metrics.jsErrors.push(error); console.warn('ğŸš¨ JavaScripté”™è¯¯:', error); }); window.addEventListener('unhandledrejection', (event) => { const error = { type: 'promise', message: 'Promise rejection: ' + event.reason, filename: 'Promise', line: 0, column: 0, timestamp: new Date().toISOString() }; this.metrics.jsErrors.push(error); console.warn('ğŸš¨ Promiseæ‹’ç»:', error); }); } checkResources() { const resources = performance.getEntriesByType('resource'); resources.forEach(resource => { if (resource.transferSize === 0 && resource.name.includes('.')) { this.metrics.resourceErrors.push({ name: resource.name, type: 'failed_to_load', timestamp: new Date().toISOString() }); } }); } monitorPerformance() { if (performance.memory) { this.metrics.memoryUsage = { used: Math.round(performance.memory.usedJSHeapSize / 1024 / 1024), total: Math.round(performance.memory.totalJSHeapSize / 1024 / 1024), limit: Math.round(performance.memory.jsHeapSizeLimit / 1024 / 1024) }; } this.calculatePerformanceScore(); } checkNetworkStatus() { if ('connection' in navigator) { const connection = navigator.connection; this.metrics.connectionType = { effectiveType: connection.effectiveType, downlink: connection.downlink, rtt: connection.rtt }; } window.addEventListener('online', () => { this.metrics.isOnline = true;  }); window.addEventListener('offline', () => { this.metrics.isOnline = false;  }); } monitorMemoryUsage() { if (performance.memory) { setInterval(() => { const current = performance.memory.usedJSHeapSize / 1024 / 1024; if (current > 100) { console.warn('âš ï¸ å†…å­˜ä½¿ç”¨é‡è¾ƒé«˜:', Math.round(current) + 'MB'); } }, 30000); } } calculatePerformanceScore() { let score = 100; if (this.metrics.loadTime > 3000) score -= 30; else if (this.metrics.loadTime > 2000) score -= 20; else if (this.metrics.loadTime > 1000) score -= 10; score -= this.metrics.jsErrors.length * 5; score -= this.metrics.resourceErrors.length * 3; this.metrics.performanceScore = Math.max(0, score); } getStatusReport() { return { timestamp: new Date().toISOString(), metrics: this.metrics, status: this.getOverallStatus(), recommendations: this.getRecommendations() }; } getOverallStatus() { if (this.metrics.performanceScore >= 90) return 'excellent'; if (this.metrics.performanceScore >= 70) return 'good'; if (this.metrics.performanceScore >= 50) return 'fair'; return 'poor'; } getRecommendations() { const recommendations = []; if (this.metrics.loadTime > 2000) { recommendations.push('è€ƒè™‘ä¼˜åŒ–èµ„æºåŠ è½½é€Ÿåº¦'); } if (this.metrics.jsErrors.length > 0) { recommendations.push('ä¿®å¤JavaScripté”™è¯¯ä»¥æå‡ç¨³å®šæ€§'); } if (this.metrics.resourceErrors.length > 0) { recommendations.push('æ£€æŸ¥å¹¶ä¿®å¤å¤±è´¥çš„èµ„æºåŠ è½½'); } if (this.metrics.memoryUsage && this.metrics.memoryUsage.used > 50) { recommendations.push('ä¼˜åŒ–å†…å­˜ä½¿ç”¨ä»¥æå‡æ€§èƒ½'); } return recommendations; } } class ComprehensiveIntegrationTester { constructor() { this.testResults = []; this.categories = { frontend: { passed: 0, failed: 0, total: 0 }, animation: { passed: 0, failed: 0, total: 0 }, chat: { passed: 0, failed: 0, total: 0 }, accessibility: { passed: 0, failed: 0, total: 0 }, detection: { passed: 0, failed: 0, total: 0 } };  } async runFullIntegrationTest() {  const testSuites = [ { name: 'frontend', tests: this.frontendTests() }, { name: 'animation', tests: this.animationTests() }, { name: 'chat', tests: this.chatTests() }, { name: 'accessibility', tests: this.accessibilityTests() }, { name: 'detection', tests: this.detectionTests() } ]; for (const suite of testSuites) { await this.runTestSuite(suite.name, suite.tests); } this.generateTestReport(); return this.getTestSummary(); } async runTestSuite(category, tests) {  for (const test of tests) { try { const result = await test.run(); this.recordTestResult(category, test.name, result, null); } catch (error) { this.recordTestResult(category, test.name, false, error.message); } } } frontendTests() { return [ { name: 'å‰ç«¯èµ„æºåŠ è½½æ£€æŸ¥', run: () => { const scripts = document.scripts.length; const stylesheets = document.styleSheets.length; return scripts > 5 && stylesheets > 0; } }, { name: 'DOMå…ƒç´ å®Œæ•´æ€§', run: () => { const elements = document.querySelectorAll('*').length; return elements > 50; } }, { name: 'å“åº”å¼è®¾è®¡æ£€æŸ¥', run: () => { const viewport = document.querySelector('meta[name="viewport"]'); return viewport !== null; } } ]; } animationTests() { return [ { name: 'é‡å­ç²’å­ç³»ç»Ÿ', run: () => { const particles = document.getElementById('quantumParticles'); return particles !== null; } }, { name: 'è½¨é“å®¹å™¨', run: () => { const orbital = document.getElementById('orbitalContainer'); return orbital !== null; } }, { name: 'çŸ©é˜µæ•ˆæœ', run: () => { const matrix = document.getElementById('matrixEffect'); return matrix !== null; } }, { name: 'é‡å­åŠ è½½å™¨', run: () => { const loader = document.getElementById('quantumLoader'); return loader !== null; } } ]; } chatTests() { return [ { name: 'èŠå¤©ç»„ä»¶', run: () => { const widget = document.getElementById('chatWidget'); return widget !== null; } }, { name: 'èŠå¤©æ¶ˆæ¯åŒºåŸŸ', run: () => { const messages = document.getElementById('chatMessages'); return messages !== null; } }, { name: 'èŠå¤©è¾“å…¥æ¡†', run: () => { const input = document.getElementById('chatInput'); return input !== null; } }, { name: 'èŠå¤©åŠŸèƒ½å®ä¾‹', run: () => { return typeof window.chatSystem !== 'undefined'; } }, { name: 'å…¨å±€èŠå¤©å¯¹è±¡', run: () => { return typeof window.chatInstance !== 'undefined'; } } ]; } accessibilityTests() { return [ { name: 'æ— éšœç¢å·¥å…·æ ', run: () => { const toolbar = document.getElementById('accessibilityToolbar'); return toolbar !== null; } }, { name: 'å­—ä½“å¤§å°æ§åˆ¶', run: () => { const fontUp = document.getElementById('fontSizeUp'); const fontDown = document.getElementById('fontSizeDown'); return fontUp !== null && fontDown !== null; } }, { name: 'å¯¹æ¯”åº¦åˆ‡æ¢', run: () => { const contrast = document.getElementById('toggleContrast'); return contrast !== null; } }, { name: 'å±å¹•é˜…è¯»å™¨æ”¯æŒ', run: () => { const reader = document.getElementById('toggleScreenReader'); return reader !== null; } }, { name: 'é”®ç›˜å¯¼èˆªæ”¯æŒ', run: () => { const focusableElements = document.querySelectorAll('button, input, select, textarea, a[href]'); return focusableElements.length > 0; } } ]; } detectionTests() { return [ { name: 'æ£€æµ‹ç³»ç»Ÿæ ¸å¿ƒ', run: () => { return typeof initializeDetectionSystem !== 'undefined'; } }, { name: 'é”™è¯¯å¤„ç†å™¨', run: () => { return typeof window.systemErrorHandler !== 'undefined'; } }, { name: 'æ€§èƒ½ç›‘æ§å™¨', run: () => { return typeof window.performanceMonitor !== 'undefined'; } }, { name: 'ç³»ç»ŸéªŒè¯å™¨', run: () => { return typeof window.systemValidator !== 'undefined'; } } ]; } recordTestResult(category, testName, passed, errorMessage) { const result = { category, name: testName, passed, error: errorMessage, timestamp: new Date().toISOString() }; this.testResults.push(result); this.categories[category].total++; if (passed) { this.categories[category].passed++;  } else { this.categories[category].failed++; console.error(`âŒ ${testName}: å¤±è´¥${errorMessage ? ` - ${errorMessage}` : ''}`); } } generateTestReport() {  Object.entries(this.categories).forEach(([category, stats]) => { const passRate = stats.total > 0 ? ((stats.passed / stats.total) * 100).toFixed(1) : '0'; console.log(`ğŸ“Š ${category}: ${stats.passed}/${stats.total} é€šè¿‡ (${passRate}%)`); }); const totalTests = this.testResults.length; const totalPassed = this.testResults.filter(r => r.passed).length; const overallPassRate = totalTests > 0 ? ((totalPassed / totalTests) * 100).toFixed(1) : '0'; console.log(`\nğŸ¯ æ€»ä½“é€šè¿‡ç‡: ${totalPassed}/${totalTests} (${overallPassRate}%)`); if (overallPassRate >= 90) {  } else if (overallPassRate >= 70) {  } else if (overallPassRate >= 50) {  } else {  }  } getTestSummary() { const totalTests = this.testResults.length; const totalPassed = this.testResults.filter(r => r.passed).length; const overallPassRate = totalTests > 0 ? ((totalPassed / totalTests) * 100).toFixed(1) : '0'; return { timestamp: new Date().toISOString(), totalTests, totalPassed, totalFailed: totalTests - totalPassed, overallPassRate: parseFloat(overallPassRate), categories: this.categories, results: this.testResults }; } } function runWebsiteStatusCheck() { if (window.websiteStatusMonitor) { const report = window.websiteStatusMonitor.getStatusReport();  return report; } else { console.warn('âš ï¸ ç½‘ç«™çŠ¶æ€ç›‘æ§å™¨æœªåˆå§‹åŒ–'); return null; } } function runIntegrationTest() { if (window.integrationTester) { return window.integrationTester.runFullIntegrationTest(); } else { console.warn('âš ï¸ é›†æˆæµ‹è¯•å™¨æœªåˆå§‹åŒ–'); return Promise.resolve(null); } } document.addEventListener('DOMContentLoaded', function() { setTimeout(() => { try { window.websiteStatusMonitor = new WebsiteStatusMonitor(); window.integrationTester = new ComprehensiveIntegrationTester();  setTimeout(() => { runIntegrationTest().then(summary => { if (summary) {  } }); }, 5000); } catch (error) { console.error('âŒ ç½‘ç«™çŠ¶æ€ç›‘æ§å’Œé›†æˆæµ‹è¯•æ¨¡å—åˆå§‹åŒ–å¤±è´¥:', error); } }, 2000); }); 