<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlingAi Pro 6.0 API 文档中心</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/tomorrow-night-bright.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .sidebar-nav {
            background: #1f2937;
            border-right: 1px solid #374151;
        }
        .nav-item {
            transition: all 0.3s ease;
        }
        .nav-item:hover {
            background: #374151;
            padding-left: 1.5rem;
        }
        .nav-item.active {
            background: #4f46e5;
            border-right: 3px solid #6366f1;
        }
        .code-block {
            background: #1f2937;
            border-radius: 8px;
            overflow: hidden;
        }
        .endpoint-card {
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        .endpoint-card:hover {
            border-color: #6366f1;
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.15);
            transform: translateY(-2px);
        }
        .method-get { background: #10b981; color: white; }
        .method-post { background: #3b82f6; color: white; }
        .method-put { background: #f59e0b; color: white; }
        .method-delete { background: #ef4444; color: white; }
        .method-patch { background: #8b5cf6; color: white; }
        .response-tabs {
            border-bottom: 1px solid #e5e7eb;
        }
        .response-tab {
            padding: 0.5rem 1rem;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .response-tab.active {
            border-bottom-color: #6366f1;
            color: #6366f1;
        }
        .api-tester {
            background: #f8fafc;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
        }
        .try-it-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .try-it-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .status-code-200 { color: #10b981; }
        .status-code-400 { color: #f59e0b; }
        .status-code-500 { color: #ef4444; }
        .search-highlight {
            background: #fef08a;
            padding: 0 2px;
            border-radius: 2px;
        }
        .floating-action {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
        .version-badge {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        .api-category {
            border-left: 4px solid #6366f1;
            background: #f8fafc;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 0 8px 8px 0;
        }
        .json-viewer {
            background: #1f2937;
            color: #e5e7eb;
            padding: 1rem;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
        }
        .loading-spinner {
            border: 2px solid #f3f4f6;
            border-top: 2px solid #6366f1;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center">
                            <i class="fas fa-code text-xl"></i>
                        </div>
                        <div>
                            <h1 class="text-2xl font-bold">AlingAi Pro API 文档</h1>
                            <p class="text-sm opacity-90">企业级AI平台API参考</p>
                        </div>
                    </div>
                    <span class="version-badge">v6.0.0</span>
                </div>
                
                <div class="flex items-center space-x-4">
                    <!-- Search -->
                    <div class="relative">
                        <input type="text" placeholder="搜索API..." 
                               class="bg-white bg-opacity-20 placeholder-white placeholder-opacity-70 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50"
                               id="apiSearch">
                        <i class="fas fa-search absolute right-3 top-3 text-white opacity-70"></i>
                    </div>
                    
                    <!-- Quick Links -->
                    <div class="flex items-center space-x-2">
                        <a href="#getting-started" class="hover:text-blue-200 transition-colors">快速开始</a>
                        <a href="#authentication" class="hover:text-blue-200 transition-colors">认证</a>
                        <a href="#sdk" class="hover:text-blue-200 transition-colors">SDK下载</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="flex">
        <!-- Sidebar Navigation -->
        <aside class="w-80 sidebar-nav h-screen sticky top-16 overflow-y-auto">
            <div class="p-4">
                <nav class="space-y-1">
                    <div class="mb-4">
                        <h3 class="text-sm font-semibold text-gray-400 uppercase tracking-wide mb-2">快速开始</h3>
                        <a href="#overview" class="nav-item active block py-2 px-3 text-white rounded-lg">
                            <i class="fas fa-rocket mr-2"></i>概述
                        </a>
                        <a href="#authentication" class="nav-item block py-2 px-3 text-gray-300 rounded-lg">
                            <i class="fas fa-key mr-2"></i>身份认证
                        </a>
                        <a href="#rate-limits" class="nav-item block py-2 px-3 text-gray-300 rounded-lg">
                            <i class="fas fa-tachometer-alt mr-2"></i>限流策略
                        </a>
                    </div>

                    <div class="mb-4">
                        <h3 class="text-sm font-semibold text-gray-400 uppercase tracking-wide mb-2">企业服务</h3>
                        <a href="#workspace" class="nav-item block py-2 px-3 text-gray-300 rounded-lg">
                            <i class="fas fa-building mr-2"></i>工作空间管理
                        </a>
                        <a href="#projects" class="nav-item block py-2 px-3 text-gray-300 rounded-lg">
                            <i class="fas fa-project-diagram mr-2"></i>项目管理
                        </a>
                        <a href="#teams" class="nav-item block py-2 px-3 text-gray-300 rounded-lg">
                            <i class="fas fa-users mr-2"></i>团队协作
                        </a>
                        <a href="#documents" class="nav-item block py-2 px-3 text-gray-300 rounded-lg">
                            <i class="fas fa-file-alt mr-2"></i>文档管理
                        </a>
                    </div>

                    <div class="mb-4">
                        <h3 class="text-sm font-semibold text-gray-400 uppercase tracking-wide mb-2">AI 平台</h3>
                        <a href="#ai-chat" class="nav-item block py-2 px-3 text-gray-300 rounded-lg">
                            <i class="fas fa-comments mr-2"></i>智能对话
                        </a>
                        <a href="#ai-code" class="nav-item block py-2 px-3 text-gray-300 rounded-lg">
                            <i class="fas fa-code mr-2"></i>代码生成
                        </a>
                        <a href="#ai-analysis" class="nav-item block py-2 px-3 text-gray-300 rounded-lg">
                            <i class="fas fa-chart-bar mr-2"></i>智能分析
                        </a>
                        <a href="#ai-vision" class="nav-item block py-2 px-3 text-gray-300 rounded-lg">
                            <i class="fas fa-eye mr-2"></i>计算机视觉
                        </a>
                        <a href="#ai-speech" class="nav-item block py-2 px-3 text-gray-300 rounded-lg">
                            <i class="fas fa-microphone mr-2"></i>语音处理
                        </a>
                    </div>

                    <div class="mb-4">
                        <h3 class="text-sm font-semibold text-gray-400 uppercase tracking-wide mb-2">政务服务</h3>
                        <a href="#gov-services" class="nav-item block py-2 px-3 text-gray-300 rounded-lg">
                            <i class="fas fa-landmark mr-2"></i>政务大厅
                        </a>
                        <a href="#gov-certificates" class="nav-item block py-2 px-3 text-gray-300 rounded-lg">
                            <i class="fas fa-certificate mr-2"></i>证件服务
                        </a>
                        <a href="#gov-applications" class="nav-item block py-2 px-3 text-gray-300 rounded-lg">
                            <i class="fas fa-clipboard-list mr-2"></i>申请流程
                        </a>
                    </div>

                    <div class="mb-4">
                        <h3 class="text-sm font-semibold text-gray-400 uppercase tracking-wide mb-2">区块链服务</h3>
                        <a href="#blockchain-certificates" class="nav-item block py-2 px-3 text-gray-300 rounded-lg">
                            <i class="fas fa-link mr-2"></i>数字证书
                        </a>
                        <a href="#blockchain-verify" class="nav-item block py-2 px-3 text-gray-300 rounded-lg">
                            <i class="fas fa-check-circle mr-2"></i>身份验证
                        </a>
                        <a href="#blockchain-smart-contracts" class="nav-item block py-2 px-3 text-gray-300 rounded-lg">
                            <i class="fas fa-file-contract mr-2"></i>智能合约
                        </a>
                    </div>

                    <div class="mb-4">
                        <h3 class="text-sm font-semibold text-gray-400 uppercase tracking-wide mb-2">安全与监控</h3>
                        <a href="#security-auth" class="nav-item block py-2 px-3 text-gray-300 rounded-lg">
                            <i class="fas fa-shield-alt mr-2"></i>零信任安全
                        </a>
                        <a href="#monitoring" class="nav-item block py-2 px-3 text-gray-300 rounded-lg">
                            <i class="fas fa-desktop mr-2"></i>系统监控
                        </a>
                        <a href="#audit" class="nav-item block py-2 px-3 text-gray-300 rounded-lg">
                            <i class="fas fa-search mr-2"></i>审计日志
                        </a>
                    </div>
                </nav>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-8">
            <!-- Overview Section -->
            <section id="overview" class="mb-12">
                <div class="api-category">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">AlingAi Pro 6.0 API 概述</h2>
                    <p class="text-gray-600 mb-6">
                        AlingAi Pro 6.0 提供了全面的RESTful API接口，支持企业级应用开发、AI服务集成、政务数字化和区块链服务。
                        所有API都采用标准HTTP协议，支持JSON格式数据交换，并提供完整的错误处理和状态码。
                    </p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4">
                            <i class="fas fa-rocket text-blue-600 text-xl"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-2">快速开始</h3>
                        <p class="text-gray-600 text-sm">5分钟内集成AlingAi Pro API，获取访问令牌并开始使用。</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4">
                            <i class="fas fa-shield-alt text-green-600 text-xl"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-2">企业级安全</h3>
                        <p class="text-gray-600 text-sm">零信任架构、多因子认证、端到端加密保护您的数据安全。</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4">
                            <i class="fas fa-cogs text-purple-600 text-xl"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-2">高性能架构</h3>
                        <p class="text-gray-600 text-sm">微服务架构、智能缓存、自动扩容支持高并发访问。</p>
                    </div>
                </div>

                <!-- Base URL & Environment -->
                <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">API 基础信息</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-medium text-gray-800 mb-2">生产环境</h4>
                            <div class="code-block p-3">
                                <code class="text-green-400 text-sm">https://api.alingai.pro/v6</code>
                            </div>
                        </div>
                        <div>
                            <h4 class="font-medium text-gray-800 mb-2">测试环境</h4>
                            <div class="code-block p-3">
                                <code class="text-yellow-400 text-sm">https://api-test.alingai.pro/v6</code>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Authentication Section -->
            <section id="authentication" class="mb-12">
                <div class="api-category">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">身份认证</h2>
                    <p class="text-gray-600 mb-6">
                        AlingAi Pro 6.0 使用JWT令牌进行身份认证，支持多种认证方式：API密钥、OAuth 2.0、多因子认证等。
                    </p>
                </div>

                <!-- Login Endpoint -->
                <div class="endpoint-card bg-white rounded-lg shadow-md p-6 mb-6">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <span class="method-post px-3 py-1 rounded-full text-sm font-medium">POST</span>
                            <code class="text-lg font-mono text-gray-800">/auth/login</code>
                        </div>
                        <button class="try-it-button" onclick="openApiTester('auth-login')">
                            <i class="fas fa-play mr-2"></i>试用
                        </button>
                    </div>
                    
                    <p class="text-gray-600 mb-4">用户登录获取访问令牌</p>
                    
                    <!-- Request Parameters -->
                    <div class="mb-6">
                        <h4 class="font-semibold text-gray-800 mb-3">请求参数</h4>
                        <div class="overflow-x-auto">
                            <table class="w-full border-collapse border border-gray-300">
                                <thead>
                                    <tr class="bg-gray-50">
                                        <th class="border border-gray-300 px-4 py-2 text-left">参数名</th>
                                        <th class="border border-gray-300 px-4 py-2 text-left">类型</th>
                                        <th class="border border-gray-300 px-4 py-2 text-left">必填</th>
                                        <th class="border border-gray-300 px-4 py-2 text-left">说明</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="border border-gray-300 px-4 py-2"><code>email</code></td>
                                        <td class="border border-gray-300 px-4 py-2">string</td>
                                        <td class="border border-gray-300 px-4 py-2">是</td>
                                        <td class="border border-gray-300 px-4 py-2">用户邮箱地址</td>
                                    </tr>
                                    <tr>
                                        <td class="border border-gray-300 px-4 py-2"><code>password</code></td>
                                        <td class="border border-gray-300 px-4 py-2">string</td>
                                        <td class="border border-gray-300 px-4 py-2">是</td>
                                        <td class="border border-gray-300 px-4 py-2">用户密码</td>
                                    </tr>
                                    <tr>
                                        <td class="border border-gray-300 px-4 py-2"><code>remember</code></td>
                                        <td class="border border-gray-300 px-4 py-2">boolean</td>
                                        <td class="border border-gray-300 px-4 py-2">否</td>
                                        <td class="border border-gray-300 px-4 py-2">记住登录状态</td>
                                    </tr>
                                    <tr>
                                        <td class="border border-gray-300 px-4 py-2"><code>mfa_token</code></td>
                                        <td class="border border-gray-300 px-4 py-2">string</td>
                                        <td class="border border-gray-300 px-4 py-2">否</td>
                                        <td class="border border-gray-300 px-4 py-2">多因子认证令牌</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Request Example -->
                    <div class="mb-6">
                        <h4 class="font-semibold text-gray-800 mb-3">请求示例</h4>
                        <div class="code-block">
                            <pre class="text-sm p-4"><code class="language-bash">curl -X POST https://api.alingai.pro/v6/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "admin@example.com",
    "password": "your_password",
    "remember": true
  }'</code></pre>
                        </div>
                    </div>

                    <!-- Response Example -->
                    <div class="mb-4">
                        <h4 class="font-semibold text-gray-800 mb-3">响应示例</h4>
                        <div class="response-tabs flex">
                            <div class="response-tab active" data-tab="200">200 Success</div>
                            <div class="response-tab" data-tab="401">401 Unauthorized</div>
                            <div class="response-tab" data-tab="429">429 Rate Limited</div>
                        </div>
                        <div class="json-viewer" id="response-200">{
  "success": true,
  "data": {
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
    "refresh_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
    "expires_in": 3600,
    "token_type": "Bearer",
    "user": {
      "id": 1,
      "name": "管理员",
      "email": "admin@example.com",
      "role": "admin",
      "permissions": ["read", "write", "admin"],
      "workspace_id": 1,
      "last_login": "2025-06-12T11:30:00Z"
    }
  },
  "message": "登录成功",
  "timestamp": "2025-06-12T11:30:00Z",
  "request_id": "req_1234567890"
}</div>
                        <div class="json-viewer hidden" id="response-401">{
  "success": false,
  "error": {
    "code": "INVALID_CREDENTIALS",
    "message": "邮箱或密码错误",
    "details": "请检查您的登录凭据"
  },
  "timestamp": "2025-06-12T11:30:00Z",
  "request_id": "req_1234567890"
}</div>
                        <div class="json-viewer hidden" id="response-429">{
  "success": false,
  "error": {
    "code": "RATE_LIMIT_EXCEEDED",
    "message": "请求频率超限",
    "details": "每分钟最多允许5次登录尝试",
    "retry_after": 60
  },
  "timestamp": "2025-06-12T11:30:00Z",
  "request_id": "req_1234567890"
}</div>
                    </div>
                </div>
            </section>

            <!-- AI Chat API Section -->
            <section id="ai-chat" class="mb-12">
                <div class="api-category">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">AI 智能对话</h2>
                    <p class="text-gray-600 mb-6">
                        提供多模态AI对话能力，支持文本、图像、语音输入，具备上下文记忆、多轮对话、专业领域知识问答等功能。
                    </p>
                </div>

                <!-- Chat Completion Endpoint -->
                <div class="endpoint-card bg-white rounded-lg shadow-md p-6 mb-6">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <span class="method-post px-3 py-1 rounded-full text-sm font-medium">POST</span>
                            <code class="text-lg font-mono text-gray-800">/ai/chat/completions</code>
                        </div>
                        <button class="try-it-button" onclick="openApiTester('ai-chat')">
                            <i class="fas fa-play mr-2"></i>试用
                        </button>
                    </div>
                    
                    <p class="text-gray-600 mb-4">创建AI对话完成</p>
                    
                    <!-- Request Parameters -->
                    <div class="mb-6">
                        <h4 class="font-semibold text-gray-800 mb-3">请求参数</h4>
                        <div class="overflow-x-auto">
                            <table class="w-full border-collapse border border-gray-300">
                                <thead>
                                    <tr class="bg-gray-50">
                                        <th class="border border-gray-300 px-4 py-2 text-left">参数名</th>
                                        <th class="border border-gray-300 px-4 py-2 text-left">类型</th>
                                        <th class="border border-gray-300 px-4 py-2 text-left">必填</th>
                                        <th class="border border-gray-300 px-4 py-2 text-left">说明</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="border border-gray-300 px-4 py-2"><code>messages</code></td>
                                        <td class="border border-gray-300 px-4 py-2">array</td>
                                        <td class="border border-gray-300 px-4 py-2">是</td>
                                        <td class="border border-gray-300 px-4 py-2">对话消息数组</td>
                                    </tr>
                                    <tr>
                                        <td class="border border-gray-300 px-4 py-2"><code>model</code></td>
                                        <td class="border border-gray-300 px-4 py-2">string</td>
                                        <td class="border border-gray-300 px-4 py-2">否</td>
                                        <td class="border border-gray-300 px-4 py-2">AI模型名称 (默认: alingai-pro-6.0)</td>
                                    </tr>
                                    <tr>
                                        <td class="border border-gray-300 px-4 py-2"><code>temperature</code></td>
                                        <td class="border border-gray-300 px-4 py-2">float</td>
                                        <td class="border border-gray-300 px-4 py-2">否</td>
                                        <td class="border border-gray-300 px-4 py-2">创造性控制 (0.0-2.0)</td>
                                    </tr>
                                    <tr>
                                        <td class="border border-gray-300 px-4 py-2"><code>max_tokens</code></td>
                                        <td class="border border-gray-300 px-4 py-2">integer</td>
                                        <td class="border border-gray-300 px-4 py-2">否</td>
                                        <td class="border border-gray-300 px-4 py-2">最大回复长度</td>
                                    </tr>
                                    <tr>
                                        <td class="border border-gray-300 px-4 py-2"><code>stream</code></td>
                                        <td class="border border-gray-300 px-4 py-2">boolean</td>
                                        <td class="border border-gray-300 px-4 py-2">否</td>
                                        <td class="border border-gray-300 px-4 py-2">是否流式输出</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Request Example -->
                    <div class="mb-6">
                        <h4 class="font-semibold text-gray-800 mb-3">请求示例</h4>
                        <div class="code-block">
                            <pre class="text-sm p-4"><code class="language-bash">curl -X POST https://api.alingai.pro/v6/ai/chat/completions \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "messages": [
      {
        "role": "system",
        "content": "你是一个专业的AI助手，擅长解答技术问题。"
      },
      {
        "role": "user", 
        "content": "请帮我解释一下什么是微服务架构？"
      }
    ],
    "model": "alingai-pro-6.0",
    "temperature": 0.7,
    "max_tokens": 1000,
    "stream": false
  }'</code></pre>
                        </div>
                    </div>

                    <!-- Response Example -->
                    <div class="mb-4">
                        <h4 class="font-semibold text-gray-800 mb-3">响应示例</h4>
                        <div class="json-viewer">{
  "success": true,
  "data": {
    "id": "chat_comp_1234567890",
    "object": "chat.completion",
    "created": 1686755493,
    "model": "alingai-pro-6.0",
    "choices": [
      {
        "index": 0,
        "message": {
          "role": "assistant",
          "content": "微服务架构是一种软件开发方法，它将大型应用程序分解为一系列小型、独立的服务。每个服务都有以下特点：\n\n1. **独立部署**：每个服务可以独立开发、测试和部署\n2. **技术多样性**：不同服务可以使用不同的编程语言和数据库\n3. **故障隔离**：单个服务的故障不会影响整个系统\n4. **可扩展性**：可以根据需求独立扩展特定服务\n\n微服务架构的优势包括：\n- 提高开发效率\n- 增强系统可靠性\n- 便于团队协作\n- 支持持续交付\n\n不过也需要考虑服务间通信、数据一致性、监控等挑战。"
        },
        "finish_reason": "stop"
      }
    ],
    "usage": {
      "prompt_tokens": 45,
      "completion_tokens": 156,
      "total_tokens": 201
    },
    "response_time": 1.23
  },
  "timestamp": "2025-06-12T11:30:00Z",
  "request_id": "req_1234567890"
}</div>
                    </div>
                </div>
            </section>

            <!-- API Tester Modal -->
            <div id="apiTesterModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
                <div class="flex items-center justify-center min-h-screen p-4">
                    <div class="bg-white rounded-lg shadow-lg max-w-4xl w-full max-h-screen overflow-y-auto">
                        <div class="p-6 border-b border-gray-200">
                            <div class="flex items-center justify-between">
                                <h3 class="text-lg font-semibold">API 测试器</h3>
                                <button onclick="closeApiTester()" class="text-gray-400 hover:text-gray-600">
                                    <i class="fas fa-times text-xl"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="p-6">
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                <!-- Request Configuration -->
                                <div>
                                    <h4 class="font-semibold text-gray-800 mb-4">请求配置</h4>
                                    
                                    <!-- Method and URL -->
                                    <div class="mb-4">
                                        <label class="block text-sm font-medium text-gray-700 mb-2">请求方法和URL</label>
                                        <div class="flex">
                                            <select id="apiMethod" class="border border-gray-300 rounded-l px-3 py-2 bg-gray-50">
                                                <option value="GET">GET</option>
                                                <option value="POST">POST</option>
                                                <option value="PUT">PUT</option>
                                                <option value="DELETE">DELETE</option>
                                                <option value="PATCH">PATCH</option>
                                            </select>
                                            <input type="text" id="apiUrl" placeholder="https://api.alingai.pro/v6/..." 
                                                   class="flex-1 border border-gray-300 rounded-r px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                        </div>
                                    </div>
                                    
                                    <!-- Headers -->
                                    <div class="mb-4">
                                        <label class="block text-sm font-medium text-gray-700 mb-2">请求头</label>
                                        <textarea id="apiHeaders" rows="4" placeholder='{"Authorization": "Bearer YOUR_TOKEN", "Content-Type": "application/json"}'
                                                  class="w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm"></textarea>
                                    </div>
                                    
                                    <!-- Request Body -->
                                    <div class="mb-4">
                                        <label class="block text-sm font-medium text-gray-700 mb-2">请求体</label>
                                        <textarea id="apiBody" rows="6" placeholder='{"key": "value"}'
                                                  class="w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm"></textarea>
                                    </div>
                                    
                                    <!-- Send Button -->
                                    <button onclick="sendApiRequest()" class="w-full try-it-button py-3 flex items-center justify-center">
                                        <span id="sendButtonText">
                                            <i class="fas fa-play mr-2"></i>发送请求
                                        </span>
                                        <div id="sendButtonLoading" class="hidden flex items-center">
                                            <div class="loading-spinner mr-2"></div>
                                            发送中...
                                        </div>
                                    </button>
                                </div>
                                
                                <!-- Response -->
                                <div>
                                    <h4 class="font-semibold text-gray-800 mb-4">响应结果</h4>
                                    
                                    <!-- Status -->
                                    <div class="mb-4">
                                        <label class="block text-sm font-medium text-gray-700 mb-2">状态码</label>
                                        <div id="responseStatus" class="px-3 py-2 bg-gray-100 rounded font-mono text-sm">
                                            等待请求...
                                        </div>
                                    </div>
                                    
                                    <!-- Headers -->
                                    <div class="mb-4">
                                        <label class="block text-sm font-medium text-gray-700 mb-2">响应头</label>
                                        <div id="responseHeaders" class="px-3 py-2 bg-gray-100 rounded font-mono text-sm max-h-32 overflow-y-auto">
                                            等待请求...
                                        </div>
                                    </div>
                                    
                                    <!-- Body -->
                                    <div class="mb-4">
                                        <label class="block text-sm font-medium text-gray-700 mb-2">响应体</label>
                                        <div id="responseBody" class="json-viewer max-h-64 overflow-y-auto">
                                            等待请求...
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Floating Action Button -->
    <div class="floating-action">
        <button onclick="scrollToTop()" class="bg-indigo-600 hover:bg-indigo-700 text-white p-3 rounded-full shadow-lg transition-colors">
            <i class="fas fa-arrow-up"></i>
        </button>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script>
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            hljs.highlightAll();
            initializeNavigation();
            initializeSearch();
            initializeResponseTabs();
        });

        function initializeNavigation() {
            const navLinks = document.querySelectorAll('.nav-item');
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remove active class from all links
                    navLinks.forEach(l => l.classList.remove('active'));
                    
                    // Add active class to clicked link
                    this.classList.add('active');
                    
                    // Scroll to section
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });
        }

        function initializeSearch() {
            const searchInput = document.getElementById('apiSearch');
            searchInput.addEventListener('input', function() {
                const query = this.value.toLowerCase();
                searchAPI(query);
            });
        }

        function searchAPI(query) {
            const sections = document.querySelectorAll('section');
            sections.forEach(section => {
                const content = section.textContent.toLowerCase();
                const shouldShow = query === '' || content.includes(query);
                section.style.display = shouldShow ? 'block' : 'none';
                
                if (shouldShow && query !== '') {
                    highlightSearchTerms(section, query);
                }
            });
        }

        function highlightSearchTerms(element, query) {
            // Simple search highlighting (can be enhanced)
            const walker = document.createTreeWalker(
                element,
                NodeFilter.SHOW_TEXT,
                null,
                false
            );
            
            const textNodes = [];
            let node;
            while (node = walker.nextNode()) {
                textNodes.push(node);
            }
            
            textNodes.forEach(textNode => {
                if (textNode.textContent.toLowerCase().includes(query)) {
                    const parent = textNode.parentNode;
                    const regex = new RegExp(`(${query})`, 'gi');
                    const highlighted = textNode.textContent.replace(regex, '<span class="search-highlight">$1</span>');
                    
                    const wrapper = document.createElement('span');
                    wrapper.innerHTML = highlighted;
                    parent.replaceChild(wrapper, textNode);
                }
            });
        }

        function initializeResponseTabs() {
            document.querySelectorAll('.response-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabGroup = this.parentElement;
                    const responseContainer = tabGroup.nextElementSibling;
                    
                    // Remove active class from all tabs in this group
                    tabGroup.querySelectorAll('.response-tab').forEach(t => t.classList.remove('active'));
                    
                    // Add active class to clicked tab
                    this.classList.add('active');
                    
                    // Hide all response examples
                    responseContainer.querySelectorAll('.json-viewer').forEach(viewer => {
                        viewer.classList.add('hidden');
                    });
                    
                    // Show selected response
                    const targetResponse = responseContainer.querySelector(`#response-${this.dataset.tab}`);
                    if (targetResponse) {
                        targetResponse.classList.remove('hidden');
                    }
                });
            });
        }

        function openApiTester(apiType) {
            const modal = document.getElementById('apiTesterModal');
            modal.classList.remove('hidden');
            
            // Pre-fill based on API type
            const apiConfigs = {
                'auth-login': {
                    method: 'POST',
                    url: 'https://api.alingai.pro/v6/auth/login',
                    headers: '{"Content-Type": "application/json"}',
                    body: '{\n  "email": "admin@example.com",\n  "password": "your_password",\n  "remember": true\n}'
                },
                'ai-chat': {
                    method: 'POST',
                    url: 'https://api.alingai.pro/v6/ai/chat/completions',
                    headers: '{"Authorization": "Bearer YOUR_ACCESS_TOKEN", "Content-Type": "application/json"}',
                    body: '{\n  "messages": [\n    {\n      "role": "user",\n      "content": "Hello, how are you?"\n    }\n  ],\n  "model": "alingai-pro-6.0",\n  "temperature": 0.7\n}'
                }
            };
            
            const config = apiConfigs[apiType];
            if (config) {
                document.getElementById('apiMethod').value = config.method;
                document.getElementById('apiUrl').value = config.url;
                document.getElementById('apiHeaders').value = config.headers;
                document.getElementById('apiBody').value = config.body;
            }
        }

        function closeApiTester() {
            document.getElementById('apiTesterModal').classList.add('hidden');
        }

        async function sendApiRequest() {
            const method = document.getElementById('apiMethod').value;
            const url = document.getElementById('apiUrl').value;
            const headersText = document.getElementById('apiHeaders').value;
            const bodyText = document.getElementById('apiBody').value;
            
            // Show loading state
            document.getElementById('sendButtonText').classList.add('hidden');
            document.getElementById('sendButtonLoading').classList.remove('hidden');
            
            try {
                // Parse headers
                let headers = {};
                if (headersText.trim()) {
                    headers = JSON.parse(headersText);
                }
                
                // Prepare request options
                const requestOptions = {
                    method: method,
                    headers: headers
                };
                
                // Add body for POST/PUT/PATCH requests
                if (['POST', 'PUT', 'PATCH'].includes(method) && bodyText.trim()) {
                    requestOptions.body = bodyText;
                }
                
                // Send request
                const response = await fetch(url, requestOptions);
                
                // Display response
                displayApiResponse(response);
                
            } catch (error) {
                displayApiError(error);
            } finally {
                // Hide loading state
                document.getElementById('sendButtonText').classList.remove('hidden');
                document.getElementById('sendButtonLoading').classList.add('hidden');
            }
        }

        async function displayApiResponse(response) {
            // Status
            const statusElement = document.getElementById('responseStatus');
            statusElement.textContent = `${response.status} ${response.statusText}`;
            statusElement.className = `px-3 py-2 rounded font-mono text-sm ${
                response.ok ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'
            }`;
            
            // Headers
            const headersElement = document.getElementById('responseHeaders');
            const headersList = [];
            response.headers.forEach((value, key) => {
                headersList.push(`${key}: ${value}`);
            });
            headersElement.textContent = headersList.join('\n') || '无响应头';
            
            // Body
            const bodyElement = document.getElementById('responseBody');
            try {
                const responseText = await response.text();
                if (responseText) {
                    // Try to parse as JSON
                    try {
                        const jsonData = JSON.parse(responseText);
                        bodyElement.textContent = JSON.stringify(jsonData, null, 2);
                    } catch {
                        bodyElement.textContent = responseText;
                    }
                } else {
                    bodyElement.textContent = '无响应体';
                }
            } catch (error) {
                bodyElement.textContent = `读取响应失败: ${error.message}`;
            }
        }

        function displayApiError(error) {
            document.getElementById('responseStatus').textContent = `Error: ${error.message}`;
            document.getElementById('responseStatus').className = 'px-3 py-2 bg-red-100 text-red-800 rounded font-mono text-sm';
            document.getElementById('responseHeaders').textContent = '请求失败';
            document.getElementById('responseBody').textContent = error.stack || error.message;
        }

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Copy code functionality
        function copyCode(button) {
            const codeBlock = button.nextElementSibling.querySelector('code');
            const text = codeBlock.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                button.innerHTML = '<i class="fas fa-check mr-2"></i>已复制';
                setTimeout(() => {
                    button.innerHTML = '<i class="fas fa-copy mr-2"></i>复制';
                }, 2000);
            });
        }

        // Auto-update navigation based on scroll position
        window.addEventListener('scroll', function() {
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('.nav-item');
            
            let currentSection = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                if (window.scrollY >= sectionTop) {
                    currentSection = section.id;
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${currentSection}`) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
