<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlingAi æ™ºèƒ½å¯¹è¯ - æ–°ä¸€ä»£AIèŠå¤©ä½“éªŒ</title>
    <meta name="description" content="AlingAiæ™ºèƒ½å¯¹è¯ç³»ç»Ÿ - ä½“éªŒæœ€å…ˆè¿›çš„AIèŠå¤©æŠ€æœ¯ï¼Œæ”¯æŒå¤šæ¨¡æ€äº¤äº’ã€å®æ—¶è¯­éŸ³ã€å›¾åƒè¯†åˆ«">
    
    <!-- æ ¸å¿ƒèµ„æº -->
    <link href="/assets/css/https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/css/https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="/assets/css/https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/assets/js/https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    
    <!-- è‡ªå®šä¹‰æ ·å¼ -->
    <link href="/assets/css/assets/css/chat.css" rel="stylesheet">
    <link href="/assets/css/assets/css/input-area.css" rel="stylesheet">
    <link href="/assets/css/assets/css/quantum-chat-animations.css" rel="stylesheet">

    <!-- Three.js -->
    <script src="/assets/js/https://cdn.jsdelivr.net/npm/three@0.132.0/build/three.min.js"></script>
    
    <style>
        /* ä¼˜åŒ–å…¨å±€æ ·å¼ */
        :root {
            --primary-color: #0d6efd;
            --accent-color: #6610f2;
            --chat-bg: #ffffff;
            --message-user-bg: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
            --message-ai-bg: #f8f9fa;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #e9ecef 0%, #f8f9fa 100%);
            font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        /* æ”¹è¿›å¯¼èˆªæ æ ·å¼ */
        .navbar {
            backdrop-filter: blur(10px);
            background-color: rgba(255, 255, 255, 0.9) !important;
        }

        /* ä¼˜åŒ–èŠå¤©å®¹å™¨ */
        #chatContainer {
            border: none;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 1rem;
        }

        /* ç¾åŒ–æ¶ˆæ¯æ°”æ³¡ */
        .message {
            max-width: 85%;
            margin-bottom: 1rem;
            animation: fadeInUp 0.3s ease;
        }

        .user-message {
            margin-left: auto;
            background: var(--message-user-bg);
            color: white;
            border-radius: 1rem 1rem 0.2rem 1rem;
            padding: 0.8rem 1.2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .ai-message {
            margin-right: auto;
            background: var(--message-ai-bg);
            border-radius: 1rem 1rem 1rem 0.2rem;
            padding: 0.8rem 1.2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        /* è¾“å…¥æ¡†ç¾åŒ– */
        .input-group {
            background: white;
            border-radius: 0.5rem;
            padding: 0.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .form-control {
            border: none;
            padding: 0.75rem 1rem;
            background: #f8f9fa;
            border-radius: 0.5rem !important;
            margin-right: 0.5rem;
        }

        .form-control:focus {
            box-shadow: none;
            background: white;
            border: 1px solid var(--primary-color);
        }

        /* æŒ‰é’®åŠ¨æ•ˆ */
        .btn {
            border-radius: 0.5rem;
            padding: 0.75rem 1rem;
            transition: all 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-1px);
        }

        .btn:active {
            transform: translateY(1px);
        }

        /* å¿«æ·åŠŸèƒ½åŒºæ ·å¼ */
        .quick-action-btn {
            border-radius: 0.5rem;
            padding: 0.75rem;
            transition: all 0.2s ease;
            border: 2px solid transparent;
        }

        .quick-action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .quick-action-btn.active {
            border-color: var(--primary-color);
            background-color: rgba(102,126,234,0.1);
        }

        /* åœ¨çº¿çŠ¶æ€æŒ‡ç¤ºå™¨ */
        .online-indicator {
            width: 8px;
            height: 8px;
            background: #10B981;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        /* æ¬¢è¿æ¶ˆæ¯æ ·å¼ */
        .welcome-message {
            border: 2px dashed #e5e7eb;
            border-radius: 1rem;
            margin: 2rem;
            transition: all 0.3s ease;
        }

        .welcome-message:hover {
            border-color: var(--primary-color);
            background: rgba(102,126,234,0.02);
        }

        /* å¿«æ·ç¤ºä¾‹æŒ‰é’® */
        .quick-example {
            border-radius: 20px;
            padding: 0.5rem 1rem;
            transition: all 0.2s ease;
        }

        .quick-example:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        /* æ¶ˆæ¯è¾“å…¥æ¡†å¢å¼º */
        #messageInput {
            border: 2px solid #e5e7eb;
            border-radius: 0.75rem;
            padding: 0.75rem 1rem;
            line-height: 1.5;
            transition: all 0.2s ease;
        }

        #messageInput:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(102,126,234,0.1);
        }

        /* å·¥å…·æ æ ·å¼ */
        .toolbar-btn {
            border: none;
            background: #f8f9fa;
            border-radius: 0.5rem;
            padding: 0.5rem;
            transition: all 0.2s ease;
        }

        .toolbar-btn:hover {
            background: #e9ecef;
            transform: translateY(-1px);
        }

        /* æ™ºèƒ½å»ºè®®æ ·å¼ */
        .suggestion-chip {
            background: #f1f5f9;
            border: 1px solid #e2e8f0;
            border-radius: 20px;
            padding: 0.25rem 0.75rem;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .suggestion-chip:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-1px);
        }

        /* æ–‡ä»¶ä¸Šä¼ åŒºåŸŸ */
        #fileUploadArea {
            background: linear-gradient(45deg, #f8f9fa, #e9ecef);
            border-radius: 0.5rem;
            border: 2px dashed #dee2e6;
        }

        #fileUploadArea.drag-over {
            border-color: var(--primary-color);
            background: rgba(102,126,234,0.05);
        }

        /* å¿«æ·å›å¤æ ·å¼ */
        .quick-reply {
            border-radius: 15px;
            font-size: 0.85rem;
            padding: 0.25rem 0.75rem;
        }

        /* å“åº”å¼å¯¹è¯æ¨¡å¼é€‰æ‹© */
        .mode-selector {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .mode-option {
            flex: 1;
            min-width: 120px;
            text-align: center;
            padding: 0.5rem;
            border: 2px solid #e5e7eb;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .mode-option:hover {
            border-color: var(--primary-color);
            background: rgba(102,126,234,0.05);
        }

        .mode-option.active {
            border-color: var(--primary-color);
            background: rgba(102,126,234,0.1);
            color: var(--primary-color);
        }

        /* çŠ¶æ€æ æ ·å¼ */
        .status-bar {
            background: rgba(255,255,255,0.8);
            backdrop-filter: blur(10px);
            border-radius: 0.5rem;
            padding: 0.75rem;
        }

        /* æ¶ˆæ¯æ°”æ³¡å¢å¼ºåŠ¨ç”» */
        .message-enter {
            animation: messageSlideIn 0.3s ease-out;
        }

        @keyframes messageSlideIn {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* æ‰“å­—æœºæ•ˆæœ */
        .typing-effect {
            overflow: hidden;
            border-right: 2px solid var(--primary-color);
            white-space: nowrap;
            animation: typing 2s steps(40, end), blink-caret 0.75s step-end infinite;
        }

        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }

        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: var(--primary-color); }
        }

        /* è¡¨æƒ…ç¬¦å·é€‰æ‹©å™¨ */
        .emoji-picker {
            position: absolute;
            bottom: 100%;
            left: 0;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 0.75rem;
            padding: 1rem;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            z-index: 1000;
            display: none;
        }

        .emoji-grid {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 0.5rem;
        }

        .emoji-item {
            padding: 0.5rem;
            border-radius: 0.25rem;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .emoji-item:hover {
            background: #f3f4f6;
        }

        /* å…¨å±æ¨¡å¼ */
        .fullscreen-mode {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 9999;
            background: white;
        }

        .fullscreen-mode #chatContainer {
            height: calc(100vh - 2rem);
            margin: 1rem;
        }

        /* åŠ è½½çŠ¶æ€å¢å¼º */
        .loading-dots {
            display: inline-block;
        }

        .loading-dots::after {
            content: '';
            animation: dots 1.5s steps(4, end) infinite;
        }

        @keyframes dots {
            0%, 20% { content: ''; }
            40% { content: '.'; }
            60% { content: '..'; }
            80%, 100% { content: '...'; }
        }

        /* ç§»åŠ¨ç«¯ä¼˜åŒ– */
        @media (max-width: 768px) {
            .quick-action-btn {
                font-size: 0.85rem;
                padding: 0.5rem;
            }

            #messageInput {
                font-size: 16px; /* é˜²æ­¢iOSç¼©æ”¾ */
            }

            .welcome-message {
                margin: 1rem;
            }

            .mode-selector {
                flex-direction: column;
            }

            .quick-reply {
                font-size: 0.8rem;
            }
        }

        /* æ·±è‰²æ¨¡å¼å¢å¼º */
        @media (prefers-color-scheme: dark) {
            .quick-action-btn {
                border-color: rgba(255,255,255,0.2);
                color: #e5e7eb;
            }

            .welcome-message {
                border-color: rgba(255,255,255,0.2);
                color: #d1d5db;
            }

            .suggestion-chip {
                background: rgba(55,65,81,0.8);
                border-color: rgba(255,255,255,0.2);
                color: #e5e7eb;
            }

            .toolbar-btn {
                background: rgba(55,65,81,0.5);
                color: #e5e7eb;
            }

            .emoji-picker {
                background: #374151;
                border-color: rgba(255,255,255,0.2);
            }
        }

        #backgroundContainer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.6;
        }
        /* é‡å­çƒæ ·å¼ */
        .quantum-ball {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: radial-gradient(circle, #00ffff, #0080ff);
            animation: quantumSpin 2s linear infinite;
            transition: all 0.3s ease;
        }
        
        .quantum-ball.success {
            background: radial-gradient(circle, #00ff00, #008000);
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.5);
        }
        
        .quantum-ball.error {
            background: radial-gradient(circle, #ff0000, #800000);
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
            animation: quantumShake 0.5s ease-in-out infinite;
        }
        
        @keyframes quantumSpin {
            0% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.2); }
            100% { transform: rotate(360deg) scale(1); }
        }
        
        @keyframes quantumShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-2px); }
            75% { transform: translateX(2px); }
        }
        
        /* é‡å­åŠ è½½å™¨å®¹å™¨æ ·å¼ */
        #quantumLoader {
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
        }
        
        #quantumBalls {
            position: relative;
            width: 240px;
            height: 240px;
        }
        
        #validationText {
            color: #ffffff;
            font-weight: 600;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
    </style>
    
    <!-- éªŒè¯æ£€æŸ¥å™¨ - å¿…é¡»åœ¨å…¶ä»–è„šæœ¬ä¹‹å‰åŠ è½½ -->
    <script src="/assets/js/assets/js/chat-verification-checker.js"></script>
    
    <!-- JavaScript Dependencies -->
    <script src="/assets/js/https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/js/https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="/assets/js/https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/highlight.min.js"></script>
    <script src="/assets/js/assets/js/notifications.js"></script>
    
    <!-- Quantum Chat Integration -->
    <script src="/assets/js/assets/js/quantum-chat-integrator.js"></script>
    <script src="/assets/js/assets/js/quantum-demo.js"></script>
    
    <!-- Chat Module Scripts -->
    <script type="module">
        // å¯¼å…¥èŠå¤©æ¨¡å—
        import { ChatCore } from './js/chat/core.js';
        import { ChatUI } from './js/chat/ui.js';
        import { ChatAPI } from './js/chat/api.js';
        
        // å…¨å±€èŠå¤©å®ä¾‹
        window.chatInstance = null;
        
        // å…¨å±€é‡å­çƒé›†æˆå™¨å®ä¾‹
        window.quantumChatIntegrator = null;
        
        // åˆå§‹åŒ–èŠå¤©ç³»ç»Ÿ
        async function initChatSystem() {
            try {
                // åˆå§‹åŒ–é‡å­çƒé›†æˆå™¨
                if (typeof QuantumChatIntegrator !== 'undefined') {
                    window.quantumChatIntegrator = new QuantumChatIntegrator();
                    await window.quantumChatIntegrator.initialize();
                    console.log('âœ¨ é‡å­çƒé›†æˆå™¨åˆå§‹åŒ–æˆåŠŸ');
                } else {
                    console.warn('âš ï¸ é‡å­çƒé›†æˆå™¨æœªæ‰¾åˆ°ï¼Œå°†ä»¥æ™®é€šæ¨¡å¼è¿è¡Œ');
                }
                
                const core = new ChatCore();
                const ui = new ChatUI();
                const api = new ChatAPI();
                
                // åˆå§‹åŒ–å„æ¨¡å—
                await core.initialize();
                await ui.initialize();
                await api.initialize();
                
                // è®¾ç½®å›è°ƒå‡½æ•°
                ui.setCallbacks({
                    onSendMessage: async (message) => {
                        let loadingId = null;
                        try {
                            // æ£€æŸ¥æ˜¯å¦éœ€è¦ç™»å½•
                            if (!api.token) {
                                // ä½¿ç”¨è®¿å®¢æ¨¡å¼ï¼ˆä¸´æ—¶è§£å†³æ–¹æ¡ˆï¼‰
                                console.log('ä½¿ç”¨è®¿å®¢æ¨¡å¼å‘é€æ¶ˆæ¯');
                            }
                            
                            // è§¦å‘é‡å­çƒç”¨æˆ·æ¶ˆæ¯åŠ¨ç”»
                            if (window.quantumChatIntegrator) {
                                window.quantumChatIntegrator.triggerUserMessageAnimation(message);
                            }
                            
                            // æ˜¾ç¤ºç”¨æˆ·æ¶ˆæ¯
                            const userMessage = await core.processUserMessage(message);
                            ui.addMessage(userMessage);
                            
                            // è§¦å‘é‡å­çƒAIæ€è€ƒåŠ¨ç”»
                            if (window.quantumChatIntegrator) {
                                window.quantumChatIntegrator.triggerAIThinkingAnimation();
                            }
                            
                            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
                            loadingId = ui.showLoading('AIæ­£åœ¨æ€è€ƒä¸­...');
                            
                            // å‘é€æ¶ˆæ¯åˆ°æœåŠ¡å™¨
                            const response = await api.sendMessage(message);
                            
                            // éšè—åŠ è½½çŠ¶æ€
                            if (loadingId) {
                                ui.hideLoading(loadingId);
                            }
                            
                            // è§¦å‘é‡å­çƒAIå“åº”åŠ¨ç”»
                            if (window.quantumChatIntegrator) {
                                window.quantumChatIntegrator.triggerAIResponseAnimation(response);
                            }
                            
                            // æ˜¾ç¤ºAIå›å¤
                            const aiMessage = await core.processResponse(response);
                            ui.addMessage(aiMessage);
                            
                        } catch (error) {
                            console.error('å‘é€æ¶ˆæ¯å¤±è´¥:', error);
                            
                            // è§¦å‘é‡å­çƒé”™è¯¯åŠ¨ç”»
                            if (window.quantumChatIntegrator) {
                                window.quantumChatIntegrator.triggerErrorAnimation(error);
                            }
                            
                            // éšè—åŠ è½½çŠ¶æ€
                            if (loadingId) {
                                ui.hideLoading(loadingId);
                            }
                            
                            // é‡æ–°å¯ç”¨å‘é€æŒ‰é’®
                            ui.enableSendButton();
                            
                            // å¦‚æœæ˜¯è®¤è¯é”™è¯¯ï¼Œæ˜¾ç¤ºç‰¹æ®Šæç¤º
                            if (error.message.includes('æœªç™»å½•') || error.message.includes('jwt')) {
                                ui.showError('éœ€è¦ç™»å½•æ‰èƒ½ä½¿ç”¨å®Œæ•´åŠŸèƒ½ï¼Œå½“å‰ä¸ºè®¿å®¢æ¨¡å¼');
                                // ä¸è‡ªåŠ¨æ˜¾ç¤ºç™»å½•æ¨¡æ€æ¡†ï¼Œè®©ç”¨æˆ·é€‰æ‹©
                            } else {
                                ui.showError(error.message);
                            }
                        }
                    },
                    onLogin: async (credentials) => {
                        try {
                            const result = await api.login(credentials);
                            if (result.success) {
                                ui.hideLoginModal();
                                if (result.user) {
                                    core.setCurrentUser(result.user);
                                    ui.updateUserStatus(`æ¬¢è¿ï¼Œ${result.user.username || 'ç”¨æˆ·'}`);
                                }
                                ui.showSuccess('ç™»å½•æˆåŠŸ');
                                // æ¸…é™¤è®¿å®¢æ¨¡å¼
                                localStorage.removeItem('guestMode');
                            } else {
                                ui.showError(result.error || 'ç™»å½•å¤±è´¥');
                            }
                        } catch (error) {
                            ui.showError('ç™»å½•å¤±è´¥: ' + error.message);
                        }
                    },
                    onVoiceRecord: () => {
                        ui.showError('è¯­éŸ³åŠŸèƒ½å¼€å‘ä¸­...');
                    },
                    onImageGenerate: () => {
                        ui.showError('å›¾åƒç”ŸæˆåŠŸèƒ½å¼€å‘ä¸­...');
                    },
                    onTTSToggle: () => {
                        ui.showError('è¯­éŸ³åˆæˆåŠŸèƒ½å¼€å‘ä¸­...');
                    },
                    onRetry: async () => {
                        try {
                            await core.retryLastMessage();
                        } catch (error) {
                            ui.showError('é‡è¯•å¤±è´¥: ' + error.message);
                        }
                    }
                });
                
                // æ·»åŠ æ¬¢è¿æ¶ˆæ¯
                ui.addMessage({
                    id: 'welcome',
                    type: 'assistant',
                    content: 'æ¬¢è¿ä½¿ç”¨ AlingAi æ™ºèƒ½åŠ©æ‰‹ï¼Œæˆ‘æœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©æ‚¨çš„ï¼Ÿ',
                    timestamp: new Date().toISOString()
                });
                
                window.chatInstance = { core, ui, api };
                
                // å°†ç±»æš´éœ²ä¸ºå…¨å±€å¯¹è±¡ä»¥ä¾¿æµ‹è¯•
                window.ChatCore = ChatCore;
                window.ChatUI = ChatUI;
                window.ChatAPI = ChatAPI;
                
                console.log('èŠå¤©ç³»ç»Ÿåˆå§‹åŒ–æˆåŠŸ');
                
                // è®¾ç½®æŒ‰é’®äº‹ä»¶å¤„ç†å™¨
                setupButtonEventHandlers();
                
            } catch (error) {
                console.error('èŠå¤©ç³»ç»Ÿåˆå§‹åŒ–å¤±è´¥:', error);
                if (typeof showNotification === 'function') {
                    showNotification('åˆå§‹åŒ–å¤±è´¥', 'error', error.message);
                }
            }
        }
        
        // è®¾ç½®æŒ‰é’®äº‹ä»¶å¤„ç†å™¨
        function setupButtonEventHandlers() {
            // è®¾ç½®æŒ‰é’®
            const settingsBtn = document.getElementById('settingsBtn');
            if (settingsBtn) {
                settingsBtn.onclick = () => {
                    console.log('æ‰“å¼€è®¾ç½®');
                    // TODO: å®ç°è®¾ç½®åŠŸèƒ½
                    if (window.chatInstance?.ui?.showNotification) {
                        window.chatInstance.ui.showNotification('è®¾ç½®åŠŸèƒ½å¼€å‘ä¸­...', 'info');
                    }
                };
            }
            
            // å†å²è®°å½•æŒ‰é’®
            const historyBtn = document.getElementById('historyBtn');
            if (historyBtn) {
                historyBtn.onclick = () => {
                    console.log('æ‰“å¼€å†å²è®°å½•');
                    // TODO: å®ç°å†å²è®°å½•åŠŸèƒ½
                    if (window.chatInstance?.ui?.showNotification) {
                        window.chatInstance.ui.showNotification('å†å²è®°å½•åŠŸèƒ½å¼€å‘ä¸­...', 'info');
                    }
                };
            }
            
            // è¯­è¨€åˆ‡æ¢æŒ‰é’®
            const langSwitchBtn = document.getElementById('langSwitchBtn');
            if (langSwitchBtn) {
                langSwitchBtn.onclick = () => {
                    console.log('åˆ‡æ¢è¯­è¨€');
                    // TODO: å®ç°è¯­è¨€åˆ‡æ¢åŠŸèƒ½
                    if (window.chatInstance?.ui?.showNotification) {
                        window.chatInstance.ui.showNotification('è¯­è¨€åˆ‡æ¢åŠŸèƒ½å¼€å‘ä¸­...', 'info');
                    }
                };
            }
        }
        
        // åˆå§‹åŒ–å¢å¼ºåŠŸèƒ½
        function initEnhancedFeatures() {
            // å¿«æ·åŠŸèƒ½æŒ‰é’®
            document.querySelectorAll('.quick-action-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const action = this.dataset.action;
                    handleQuickAction(action);
                });
            });

            // å¿«æ·ç¤ºä¾‹æŒ‰é’®
            document.querySelectorAll('.quick-example').forEach(btn => {
                btn.addEventListener('click', function() {
                    const text = this.dataset.text;
                    const messageInput = document.getElementById('messageInput');
                    messageInput.value = text;
                    messageInput.focus();
                    // è‡ªåŠ¨å‘é€
                    setTimeout(() => {
                        document.getElementById('sendButton').click();
                    }, 500);
                });
            });

            // å¿«æ·å›å¤æŒ‰é’®
            document.querySelectorAll('.quick-reply').forEach(btn => {
                btn.addEventListener('click', function() {
                    const text = this.dataset.text;
                    const messageInput = document.getElementById('messageInput');
                    messageInput.value = text;
                    messageInput.focus();
                });
            });

            // å¯¹è¯æ¨¡å¼é€‰æ‹©
            document.querySelectorAll('[data-mode]').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    const mode = this.dataset.mode;
                    handleModeChange(mode);
                });
            });

            // æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
            const fileInput = document.getElementById('fileInput');
            const fileUploadBtn = document.getElementById('fileUploadBtn');
            const fileUploadArea = document.getElementById('fileUploadArea');

            fileUploadBtn.addEventListener('click', () => fileInput.click());
            fileInput.addEventListener('change', handleFileUpload);

            // æ‹–æ‹½ä¸Šä¼ 
            setupDragAndDrop();

            // æ¶ˆæ¯è¾“å…¥å¢å¼º
            setupMessageInputEnhancements();

            // æ¸…ç©ºå¯¹è¯
            document.getElementById('clearChatBtn')?.addEventListener('click', clearChat);

            // å¯¼å‡ºå¯¹è¯
            document.getElementById('exportChatBtn')?.addEventListener('click', exportChat);

            // å…¨å±æ¨¡å¼
            document.getElementById('fullscreenBtn')?.addEventListener('click', toggleFullscreen);

            // è¡¨æƒ…ç¬¦å·
            document.getElementById('emojiBtn')?.addEventListener('click', toggleEmojiPicker);

            // æ™ºèƒ½å»ºè®®
            setupSmartSuggestions();

            console.log('âœ¨ å¢å¼ºåŠŸèƒ½åˆå§‹åŒ–å®Œæˆ');
        }

        // å¤„ç†å¿«æ·åŠŸèƒ½
        function handleQuickAction(action) {
            const prompts = {
                code: 'è¯·å¸®æˆ‘ç”Ÿæˆä¸€ä¸ªä»£ç ç¤ºä¾‹ï¼š',
                translate: 'è¯·ç¿»è¯‘ä»¥ä¸‹å†…å®¹ï¼š',
                explain: 'è¯·è¯¦ç»†è§£é‡Šï¼š',
                creative: 'è¯·å¸®æˆ‘åˆ›ä½œï¼š'
            };

            const messageInput = document.getElementById('messageInput');
            messageInput.value = prompts[action] || '';
            messageInput.focus();

            // è§†è§‰åé¦ˆ
            document.querySelectorAll('.quick-action-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-action="${action}"]`).classList.add('active');

            showNotification(`å·²åˆ‡æ¢åˆ°${action}æ¨¡å¼`, 'info');
        }

        // å¤„ç†æ¨¡å¼å˜æ›´
        function handleModeChange(mode) {
            const modeNames = {
                intelligent: 'æ™ºèƒ½æ¨¡å¼',
                creative: 'åˆ›æ„æ¨¡å¼',
                precise: 'ç²¾ç¡®æ¨¡å¼',
                code: 'ä»£ç æ¨¡å¼'
            };

            const modeBtn = document.getElementById('modeBtn');
            const modeText = modeBtn.querySelector('span');
            modeText.textContent = modeNames[mode];

            // ä¿å­˜æ¨¡å¼è®¾ç½®
            localStorage.setItem('chatMode', mode);
            
            showNotification(`å·²åˆ‡æ¢åˆ°${modeNames[mode]}`, 'success');
        }

        // æ–‡ä»¶ä¸Šä¼ å¤„ç†
        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (!file) return;

            const fileUploadArea = document.getElementById('fileUploadArea');
            const fileName = document.getElementById('uploadedFileName');
            const uploadProgress = document.getElementById('uploadProgress');

            fileName.textContent = file.name;
            fileUploadArea.classList.remove('d-none');

            // æ¨¡æ‹Ÿä¸Šä¼ è¿›åº¦
            uploadProgress.classList.remove('d-none');
            let progress = 0;
            const interval = setInterval(() => {
                progress += 10;
                uploadProgress.querySelector('.progress-bar').style.width = progress + '%';
                
                if (progress >= 100) {
                    clearInterval(interval);
                    uploadProgress.classList.add('d-none');
                    showNotification('æ–‡ä»¶ä¸Šä¼ æˆåŠŸ', 'success');
                }
            }, 100);
        }

        // æ‹–æ‹½ä¸Šä¼ è®¾ç½®
        function setupDragAndDrop() {
            const chatContainer = document.getElementById('chatContainer');

            chatContainer.addEventListener('dragover', (e) => {
                e.preventDefault();
                chatContainer.classList.add('drag-over');
            });

            chatContainer.addEventListener('dragleave', (e) => {
                e.preventDefault();
                chatContainer.classList.remove('drag-over');
            });

            chatContainer.addEventListener('drop', (e) => {
                e.preventDefault();
                chatContainer.classList.remove('drag-over');
                
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    const fileInput = document.getElementById('fileInput');
                    fileInput.files = files;
                    handleFileUpload({ target: { files: files } });
                }
            });
        }

        // æ¶ˆæ¯è¾“å…¥å¢å¼º
        function setupMessageInputEnhancements() {
            const messageInput = document.getElementById('messageInput');
            const wordCount = document.getElementById('wordCount');
            const typingIndicator = document.getElementById('typingIndicator');

            let typingTimer;

            messageInput.addEventListener('input', function() {
                // å­—æ•°ç»Ÿè®¡
                const count = this.value.length;
                wordCount.textContent = `${count}/2000`;
                
                if (count > 1800) {
                    wordCount.style.color = '#ef4444';
                } else if (count > 1500) {
                    wordCount.style.color = '#f59e0b';
                } else {
                    wordCount.style.color = '#6b7280';
                }

                // è‡ªåŠ¨è°ƒæ•´é«˜åº¦
                this.style.height = 'auto';
                this.style.height = Math.min(this.scrollHeight, 120) + 'px';

                // å‘é€æŒ‰é’®çŠ¶æ€
                const sendButton = document.getElementById('sendButton');
                sendButton.disabled = !this.value.trim();

                // æ‰“å­—æŒ‡ç¤ºå™¨
                typingIndicator.style.display = 'inline-block';
                clearTimeout(typingTimer);
                typingTimer = setTimeout(() => {
                    typingIndicator.style.display = 'none';
                }, 1000);

                // æ™ºèƒ½å»ºè®®
                updateSmartSuggestions(this.value);
            });

            // å¿«æ·é”®æ”¯æŒ
            messageInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    if (this.value.trim()) {
                        document.getElementById('sendButton').click();
                    }
                }
            });
        }

        // æ™ºèƒ½å»ºè®®ç³»ç»Ÿ
        function setupSmartSuggestions() {
            // é¢„è®¾å»ºè®®
            window.suggestionTemplates = [
                { trigger: 'ä»£ç ', suggestions: ['ç”ŸæˆPythonä»£ç ', 'ä»£ç ä¼˜åŒ–å»ºè®®', 'è°ƒè¯•å¸®åŠ©'] },
                { trigger: 'ç¿»è¯‘', suggestions: ['è‹±è¯‘ä¸­', 'ä¸­è¯‘è‹±', 'å¤šè¯­è¨€ç¿»è¯‘'] },
                { trigger: 'è§£é‡Š', suggestions: ['è¯¦ç»†è§£é‡Š', 'ç®€å•è¯´æ˜', 'ä¸¾ä¾‹è¯´æ˜'] },
                { trigger: 'å¸®åŠ©', suggestions: ['ä½¿ç”¨æŒ‡å—', 'å¸¸è§é—®é¢˜', 'æŠ€æœ¯æ”¯æŒ'] }
            ];
        }

        function updateSmartSuggestions(text) {
            const suggestionsArea = document.getElementById('suggestionsArea');
            const suggestionsList = document.getElementById('suggestionsList');

            if (text.length < 2) {
                suggestionsArea.classList.add('d-none');
                return;
            }

            const suggestions = generateSuggestions(text);
            if (suggestions.length > 0) {
                suggestionsList.innerHTML = suggestions.map(s => 
                    `<span class="suggestion-chip" onclick="applySuggestion('${s}')">${s}</span>`
                ).join('');
                suggestionsArea.classList.remove('d-none');
            } else {
                suggestionsArea.classList.add('d-none');
            }
        }

        function generateSuggestions(text) {
            const suggestions = [];
            
            if (text.includes('ä»£ç ') || text.includes('code')) {
                suggestions.push('è¯·ç”Ÿæˆç¤ºä¾‹ä»£ç ', 'è§£é‡Šä»£ç é€»è¾‘', 'ä¼˜åŒ–ä»£ç æ€§èƒ½');
            }
            
            if (text.includes('ç¿»è¯‘') || text.includes('translate')) {
                suggestions.push('ç¿»è¯‘æˆè‹±æ–‡', 'ç¿»è¯‘æˆä¸­æ–‡', 'å¤šè¯­è¨€å¯¹æ¯”');
            }
            
            if (text.includes('è§£é‡Š') || text.includes('explain')) {
                suggestions.push('è¯¦ç»†è§£é‡Š', 'ç®€å•è¯´æ˜', 'ä¸¾ä¾‹è¯´æ˜');
            }

            return suggestions.slice(0, 3);
        }

        function applySuggestion(suggestion) {
            const messageInput = document.getElementById('messageInput');
            messageInput.value += ' ' + suggestion;
            messageInput.focus();
            document.getElementById('suggestionsArea').classList.add('d-none');
        }

        // æ¸…ç©ºå¯¹è¯
        function clearChat() {
            if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å¯¹è¯è®°å½•å—ï¼Ÿ')) {
                document.getElementById('chatMessages').innerHTML = `
                    <div class="welcome-message text-center py-4">
                        <div class="mb-3">
                            <i class="fas fa-comments text-primary" style="font-size: 3rem; opacity: 0.3;"></i>
                        </div>
                        <h5 class="text-muted">å¯¹è¯å·²æ¸…ç©º</h5>
                        <p class="text-muted mb-4">å¼€å§‹æ–°çš„å¯¹è¯å§</p>
                    </div>
                `;
                document.getElementById('messageCount').textContent = 'æ¶ˆæ¯æ•°: 0';
                showNotification('å¯¹è¯å·²æ¸…ç©º', 'success');
            }
        }

        // å¯¼å‡ºå¯¹è¯
        function exportChat() {
            const messages = document.querySelectorAll('.message');
            let chatText = '# AlingAi å¯¹è¯è®°å½•\n\n';
            chatText += `å¯¼å‡ºæ—¶é—´: ${new Date().toLocaleString()}\n\n`;

            messages.forEach(msg => {
                const isUser = msg.classList.contains('user-message');
                const text = msg.textContent.trim();
                chatText += `${isUser ? '**ç”¨æˆ·**' : '**AIåŠ©æ‰‹**'}: ${text}\n\n`;
            });

            const blob = new Blob([chatText], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `chat-export-${new Date().toISOString().slice(0,10)}.md`;
            a.click();
            URL.revokeObjectURL(url);

            showNotification('å¯¹è¯å·²å¯¼å‡º', 'success');
        }

        // å…¨å±æ¨¡å¼åˆ‡æ¢
        function toggleFullscreen() {
            const mainContainer = document.getElementById('mainContainer');
            const fullscreenBtn = document.getElementById('fullscreenBtn');
            const icon = fullscreenBtn.querySelector('i');

            if (mainContainer.classList.contains('fullscreen-mode')) {
                mainContainer.classList.remove('fullscreen-mode');
                icon.className = 'fas fa-expand';
                fullscreenBtn.title = 'å…¨å±æ¨¡å¼';
            } else {
                mainContainer.classList.add('fullscreen-mode');
                icon.className = 'fas fa-compress';
                fullscreenBtn.title = 'é€€å‡ºå…¨å±';
            }
        }

        // è¡¨æƒ…ç¬¦å·é€‰æ‹©å™¨
        function toggleEmojiPicker() {
            // ç®€å•å®ç°ï¼Œå®é™…é¡¹ç›®ä¸­å¯ä»¥ä½¿ç”¨æ›´å®Œå–„çš„è¡¨æƒ…ç¬¦å·åº“
            const emojis = ['ğŸ˜Š', 'ğŸ˜‚', 'ğŸ¤”', 'ğŸ‘', 'â¤ï¸', 'ğŸ‰', 'ğŸ’¡', 'ğŸš€'];
            const messageInput = document.getElementById('messageInput');
            
            // åˆ›å»ºç®€å•çš„è¡¨æƒ…é€‰æ‹©å™¨
            let picker = document.getElementById('emojiPicker');
            if (!picker) {
                picker = document.createElement('div');
                picker.id = 'emojiPicker';
                picker.className = 'emoji-picker';
                picker.innerHTML = `
                    <div class="emoji-grid">
                        ${emojis.map(emoji => 
                            `<span class="emoji-item" onclick="insertEmoji('${emoji}')">${emoji}</span>`
                        ).join('')}
                    </div>
                `;
                document.getElementById('emojiBtn').parentNode.appendChild(picker);
            }

            picker.style.display = picker.style.display === 'block' ? 'none' : 'block';
        }

        function insertEmoji(emoji) {
            const messageInput = document.getElementById('messageInput');
            const cursorPos = messageInput.selectionStart;
            const text = messageInput.value;
            messageInput.value = text.slice(0, cursorPos) + emoji + text.slice(cursorPos);
            messageInput.focus();
            messageInput.setSelectionRange(cursorPos + emoji.length, cursorPos + emoji.length);
            document.getElementById('emojiPicker').style.display = 'none';
        }

        // é€šçŸ¥ç³»ç»Ÿ
        function showNotification(message, type = 'info') {
            // ç®€å•çš„é€šçŸ¥å®ç°
            const notification = document.createElement('div');
            notification.className = `alert alert-${type} position-fixed`;
            notification.style.cssText = `
                top: 20px; right: 20px; z-index: 9999; 
                max-width: 300px; animation: slideInRight 0.3s ease;
            `;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check' : type === 'error' ? 'times' : 'info'}-circle me-2"></i>
                ${message}
            `;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // DOMåŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', initChatSystem);
    </script>
</head>
<body>
    <!-- é‡å­ç³»ç»ŸDOMå…ƒç´  -->
    <div id="quantumLoader" class="position-fixed top-50 start-50 translate-middle" style="display: none; z-index: 9999;">
        <div class="relative">
            <div id="quantumBalls" class="relative w-60 h-60">
                <!-- æ·»åŠ é»˜è®¤çš„é‡å­çƒå…ƒç´  -->
                <div class="quantum-ball" style="left: 50px; top: 50px;"></div>
                <div class="quantum-ball" style="left: 150px; top: 80px;"></div>
                <div class="quantum-ball" style="left: 200px; top: 150px;"></div>
                <div class="quantum-ball" style="left: 120px; top: 200px;"></div>
                <div class="quantum-ball" style="left: 30px; top: 180px;"></div>
                <div class="quantum-ball" style="left: 80px; top: 120px;"></div>
                <div class="quantum-ball" style="left: 180px; top: 40px;"></div>
                <div class="quantum-ball" style="left: 220px; top: 120px;"></div>
            </div>
            <div id="validationText" class="text-center mt-4 text-xl font-semibold text-white">éªŒè¯ä¸­...</div>
        </div>
    </div>

    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center" href="#">
                <img src="/assets/images/assets/images/logo.svg" alt="Logo" width="32" height="32" class="me-2">
                <span id="headerTitle" class="fw-bold">AIæ™ºèƒ½åŠ©æ‰‹</span>
            </a>
            <div class="d-flex gap-2">
                <span id="userStatus" class="navbar-text me-3 small text-muted"></span>
                <button id="historyBtn" class="btn btn-outline-secondary">
                    <i class="bi bi-clock-history"></i>
                </button>
                <button id="settingsBtn" class="btn btn-outline-secondary">
                    <i class="bi bi-gear"></i>
                </button>
                <button id="langSwitchBtn" class="btn btn-outline-primary">EN</button>
            </div>
        </div>
    </nav>

    <!-- ä¸»å®¹å™¨ -->
    <div id="mainContainer" class="container-fluid py-4 mt-5">
        <!-- AIåŠ©æ‰‹ä»‹ç»å¡ç‰‡ -->
        <div id="aiIntroCard" class="card shadow-sm mb-4 border-0" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
            <div class="card-body text-center">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h4 class="card-title mb-2">
                            <i class="fas fa-robot me-2"></i>
                            AlingAi æ™ºèƒ½åŠ©æ‰‹
                        </h4>
                        <p class="card-text mb-0">åŸºäºå…ˆè¿›çš„DeepSeekæŠ€æœ¯ï¼Œä¸ºæ‚¨æä¾›æ™ºèƒ½å¯¹è¯ã€ä»£ç ç”Ÿæˆã€æ–‡æ¡£åˆ†æç­‰æœåŠ¡</p>
                    </div>
                    <div class="col-md-4">
                        <div class="d-flex justify-content-center gap-3">
                            <div class="text-center">
                                <div class="h5 mb-0">24/7</div>
                                <small class="opacity-75">åœ¨çº¿æœåŠ¡</small>
                            </div>
                            <div class="text-center">
                                <div class="h5 mb-0">&lt;100ms</div>
                                <small class="opacity-75">å“åº”æ—¶é—´</small>
                            </div>
                            <div class="text-center">
                                <div class="h5 mb-0">99%</div>
                                <small class="opacity-75">å‡†ç¡®ç‡</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- å¿«æ·åŠŸèƒ½åŒº -->
        <div id="quickActions" class="card shadow-sm mb-4">
            <div class="card-header bg-transparent border-0">
                <h6 class="mb-0">
                    <i class="fas fa-magic me-2"></i>
                    å¿«æ·åŠŸèƒ½
                </h6>
            </div>
            <div class="card-body">
                <div class="row g-2">
                    <div class="col-md-3 col-6">
                        <button class="btn btn-outline-primary w-100 quick-action-btn" data-action="code">
                            <i class="fas fa-code me-1"></i>
                            ä»£ç ç”Ÿæˆ
                        </button>
                    </div>
                    <div class="col-md-3 col-6">
                        <button class="btn btn-outline-success w-100 quick-action-btn" data-action="translate">
                            <i class="fas fa-language me-1"></i>
                            æ–‡æœ¬ç¿»è¯‘
                        </button>
                    </div>
                    <div class="col-md-3 col-6">
                        <button class="btn btn-outline-info w-100 quick-action-btn" data-action="explain">
                            <i class="fas fa-lightbulb me-1"></i>
                            æ¦‚å¿µè§£é‡Š
                        </button>
                    </div>
                    <div class="col-md-3 col-6">
                        <button class="btn btn-outline-warning w-100 quick-action-btn" data-action="creative">
                            <i class="fas fa-palette me-1"></i>
                            åˆ›æ„å†™ä½œ
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ç™»å½•æ¨¡æ€æ¡† -->
        <div id="loginModal" class="modal fade" tabindex="-1" data-bs-backdrop="static">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">ç™»å½•</h5>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <label for="loginUsername" class="form-label">ç”¨æˆ·å</label>
                            <input type="text" class="form-control" id="loginUsername" required>
                        </div>
                        <div class="mb-3">
                            <label for="loginPassword" class="form-label">å¯†ç </label>
                            <input type="password" class="form-control" id="loginPassword" required>
                        </div>
                        <div id="loginError" class="alert alert-danger d-none"></div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="loginButton" class="btn btn-primary">ç™»å½•</button>
                        <button type="button" id="guestModeButton" class="btn btn-outline-secondary">è®¿å®¢æ¨¡å¼</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- èŠå¤©ç•Œé¢ä¸»ä½“ -->
        <div id="chatContainer" class="card shadow-sm">
            <div class="card-header bg-white border-bottom">
                <div class="d-flex justify-content-between align-items-center">
                    <div class="d-flex align-items-center">
                        <div class="online-indicator me-2"></div>
                        <h6 class="mb-0">AIåŠ©æ‰‹</h6>
                        <span class="badge bg-success ms-2">åœ¨çº¿</span>
                    </div>
                    <div class="d-flex gap-2">
                        <button id="clearChatBtn" class="btn btn-sm btn-outline-secondary" title="æ¸…ç©ºå¯¹è¯">
                            <i class="fas fa-trash"></i>
                        </button>
                        <button id="exportChatBtn" class="btn btn-sm btn-outline-primary" title="å¯¼å‡ºå¯¹è¯">
                            <i class="fas fa-download"></i>
                        </button>
                        <button id="fullscreenBtn" class="btn btn-sm btn-outline-secondary" title="å…¨å±æ¨¡å¼">
                            <i class="fas fa-expand"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="card-body p-0 d-flex flex-column">
                <!-- æ–‡ä»¶ä¸Šä¼ åŒºåŸŸ -->
                <div id="fileUploadArea" class="p-3 border-bottom bg-light d-none">
                    <div class="d-flex align-items-center justify-content-between">
                        <div class="d-flex align-items-center">
                            <i class="fas fa-paperclip me-2 text-primary"></i>
                            <span id="uploadedFileName" class="text-muted">æœªé€‰æ‹©æ–‡ä»¶</span>
                        </div>
                        <button id="removeFileBtn" class="btn btn-sm btn-outline-danger">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="progress mt-2 d-none" id="uploadProgress">
                        <div class="progress-bar" role="progressbar" style="width: 0%"></div>
                    </div>
                </div>

                <!-- èŠå¤©æ¶ˆæ¯åŒºåŸŸ -->
                <div id="chatMessages" class="flex-grow-1 p-3 overflow-auto" style="min-height: 400px; max-height: 600px;">
                    <!-- æ¬¢è¿æ¶ˆæ¯ -->
                    <div class="welcome-message text-center py-4">
                        <div class="mb-3">
                            <i class="fas fa-comments text-primary" style="font-size: 3rem; opacity: 0.3;"></i>
                        </div>
                        <h5 class="text-muted">æ¬¢è¿ä½¿ç”¨ AlingAi æ™ºèƒ½åŠ©æ‰‹</h5>
                        <p class="text-muted mb-4">æˆ‘å¯ä»¥å¸®åŠ©æ‚¨è¿›è¡Œæ™ºèƒ½å¯¹è¯ã€å›ç­”é—®é¢˜ã€ç”Ÿæˆä»£ç ç­‰</p>
                        <div class="d-flex flex-wrap justify-content-center gap-2">
                            <button class="btn btn-outline-primary btn-sm quick-example" data-text="ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹è‡ªå·±">
                                ğŸ‘‹ ä»‹ç»è‡ªå·±
                            </button>
                            <button class="btn btn-outline-primary btn-sm quick-example" data-text="è¯·å¸®æˆ‘å†™ä¸€ä¸ªPythonå‡½æ•°">
                                ğŸ’» ä»£ç å¸®åŠ©
                            </button>
                            <button class="btn btn-outline-primary btn-sm quick-example" data-text="è§£é‡Šä¸€ä¸‹äººå·¥æ™ºèƒ½çš„åŸç†">
                                ğŸ§  çŸ¥è¯†é—®ç­”
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- æ™ºèƒ½å»ºè®®åŒºåŸŸ -->
                <div id="suggestionsArea" class="px-3 pb-2 d-none">
                    <div class="d-flex gap-2 flex-wrap">
                        <small class="text-muted align-self-center me-2">æ™ºèƒ½å»ºè®®:</small>
                        <div id="suggestionsList" class="d-flex gap-1 flex-wrap"></div>
                    </div>
                </div>

                <!-- è¾“å…¥åŒºåŸŸ -->
                <div class="p-3 border-top bg-white">
                    <!-- å·¥å…·æ  -->
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <div class="d-flex gap-1">
                            <button id="fileUploadBtn" class="btn btn-sm btn-outline-secondary" title="ä¸Šä¼ æ–‡ä»¶">
                                <i class="fas fa-paperclip"></i>
                            </button>
                            <input type="file" id="fileInput" accept=".txt,.pdf,.doc,.docx,.md" style="display: none;">
                            
                            <button id="emojiBtn" class="btn btn-sm btn-outline-secondary" title="è¡¨æƒ…ç¬¦å·">
                                <i class="fas fa-smile"></i>
                            </button>
                            
                            <div class="dropdown">
                                <button id="modeBtn" class="btn btn-sm btn-outline-secondary dropdown-toggle" data-bs-toggle="dropdown" title="å¯¹è¯æ¨¡å¼">
                                    <i class="fas fa-brain"></i>
                                    <span class="ms-1">æ™ºèƒ½æ¨¡å¼</span>
                                </button>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="#" data-mode="intelligent">
                                        <i class="fas fa-brain me-2"></i>æ™ºèƒ½æ¨¡å¼
                                    </a></li>
                                    <li><a class="dropdown-item" href="#" data-mode="creative">
                                        <i class="fas fa-palette me-2"></i>åˆ›æ„æ¨¡å¼
                                    </a></li>
                                    <li><a class="dropdown-item" href="#" data-mode="precise">
                                        <i class="fas fa-bullseye me-2"></i>ç²¾ç¡®æ¨¡å¼
                                    </a></li>
                                    <li><a class="dropdown-item" href="#" data-mode="code">
                                        <i class="fas fa-code me-2"></i>ä»£ç æ¨¡å¼
                                    </a></li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="d-flex align-items-center gap-2">
                            <small class="text-muted" id="wordCount">0/2000</small>
                            <small class="text-muted" id="typingIndicator" style="display: none;">
                                <i class="fas fa-keyboard me-1"></i>æ­£åœ¨è¾“å…¥...
                            </small>
                        </div>
                    </div>

                    <!-- ä¸»è¾“å…¥åŒº -->
                    <div class="input-group">
                        <textarea id="messageInput" class="form-control shadow-none" 
                                 placeholder="è¾“å…¥æ¶ˆæ¯... (Shift+Enteræ¢è¡Œï¼ŒEnterå‘é€)" 
                                 rows="1" 
                                 style="resize: none; max-height: 120px;"
                                 autocomplete="off"></textarea>
                        <div class="input-group-append d-flex gap-1 align-items-end">
                            <button id="recordButton" class="btn btn-outline-secondary position-relative" title="è¯­éŸ³è¾“å…¥">
                                <i class="bi bi-mic"></i>
                                <span id="recordingIndicator" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger d-none">
                                    <span class="recording-dot"></span>
                                </span>
                            </button>
                            <button id="sendButton" class="btn btn-primary px-3" title="å‘é€ (Enter)" disabled>
                                <i class="bi bi-send"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- å¿«æ·å›å¤ -->
                    <div id="quickReplies" class="mt-2 d-none">
                        <div class="d-flex gap-1 flex-wrap">
                            <button class="btn btn-sm btn-outline-primary quick-reply" data-text="è¯·ç»§ç»­">ç»§ç»­</button>
                            <button class="btn btn-sm btn-outline-primary quick-reply" data-text="è¯·è¯¦ç»†è§£é‡Š">è¯¦ç»†è§£é‡Š</button>
                            <button class="btn btn-sm btn-outline-primary quick-reply" data-text="è¯·ä¸¾ä¸ªä¾‹å­">ä¸¾ä¸ªä¾‹å­</button>
                            <button class="btn btn-sm btn-outline-primary quick-reply" data-text="æ¢ä¸ªæ€è·¯">æ¢ä¸ªæ€è·¯</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- çŠ¶æ€æ  -->
        <div class="d-flex justify-content-between align-items-center mt-3 text-muted small">
            <div class="d-flex align-items-center gap-3">
                <span id="connectionStatus">
                    <i class="fas fa-circle text-success me-1"></i>å·²è¿æ¥
                </span>
                <span id="responseTime">å“åº”æ—¶é—´: --ms</span>
                <span id="messageCount">æ¶ˆæ¯æ•°: 0</span>
            </div>
            <div class="d-flex align-items-center gap-2">
                <span>Powered by AlingAi</span>
                <a href="/api-docs" target="_blank" class="text-decoration-none">
                    <i class="fas fa-book me-1"></i>APIæ–‡æ¡£
                </a>
            </div>
        </div>
    </div>

    <!-- åŠ è½½åŠ¨ç”» -->
    <div id="loadingOverlay" class="position-fixed top-0 start-0 w-100 h-100 d-none">
        <div class="position-absolute top-50 start-50 translate-middle text-center text-white">
            <div class="spinner-grow text-light mb-3" role="status">
                <span class="visually-hidden">åŠ è½½ä¸­...</span>
            </div>
            <h6 class="mb-0">æ­£åœ¨æ€è€ƒ...</h6>
        </div>
    </div>

    <!-- å†å²è®°å½•ä¾§è¾¹æ  -->
    <div id="historySidebar" class="offcanvas offcanvas-end" tabindex="-1">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title">å†å²è®°å½•</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
        </div>
        <div class="offcanvas-body">
            <div class="input-group mb-3">
                <input type="text" id="historySearch" class="form-control" placeholder="æœç´¢å†å²è®°å½•...">
                <button class="btn btn-outline-secondary">
                    <i class="bi bi-search"></i>
                </button>
            </div>
            <div id="historyList" class="list-group list-group-flush">
                <!-- å†å²è®°å½•å°†é€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ  -->
            </div>
        </div>
    </div>

    <!-- è®¾ç½®é¢æ¿ -->
    <div id="settingsModal" class="modal fade" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">è®¾ç½®</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label d-flex justify-content-between">
                            æ·±è‰²æ¨¡å¼
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="darkModeSwitch">
                            </div>
                        </label>
                    </div>
                    <div class="mb-3">
                        <label class="form-label d-flex justify-content-between">
                            è¯­éŸ³è¾“å…¥
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="voiceInputSwitch" checked>
                            </div>
                        </label>
                    </div>
                    <div class="mb-3">
                        <label class="form-label d-flex justify-content-between">
                            è‡ªåŠ¨æœ—è¯»
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="autoTTSSwitch">
                            </div>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ä»£ç å—æ”¾å¤§æŸ¥çœ‹Modal -->
    <div id="codeModal" class="modal fade" tabindex="-1">
        <div class="modal-dialog modal-lg modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">ä»£ç é¢„è§ˆ</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <pre><code class="hljs"></code></pre>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">å…³é—­</button>
                    <button type="button" class="btn btn-primary" id="copyCodeBtn">å¤åˆ¶ä»£ç </button>
                </div>
            </div>
        </div>
    </div>

    <!-- æ¬¢è¿æç¤º -->
    <div id="welcomeTooltip" class="position-fixed bottom-0 end-0 m-3 fade">
        <div class="toast show" role="alert">
            <div class="toast-header">
                <strong class="me-auto">æ¬¢è¿ä½¿ç”¨</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast"></button>
            </div>
            <div class="toast-body">
                <p>æ‚¨å¯ä»¥:</p>
                <ul class="mb-0">
                    <li>è¾“å…¥æ–‡å­—è¿›è¡Œå¯¹è¯</li>
                    <li>ç‚¹å‡»éº¦å…‹é£è¿›è¡Œè¯­éŸ³è¾“å…¥</li>
                    <li>ç‚¹å‡»å›¾ç‰‡æŒ‰é’®ç”Ÿæˆå›¾åƒ</li>
                    <li>ç‚¹å‡»æ’­æ”¾æŒ‰é’®æœ—è¯»å›å¤</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="/assets/js/assets/js/apiConfig.js"></script>
    
    <!-- èƒŒæ™¯å®¹å™¨ -->
    <div id="backgroundContainer"></div>

    <script>
        // åˆå§‹åŒ–Three.jsèƒŒæ™¯
        const backgroundContainer = document.getElementById('backgroundContainer');
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setClearColor(0x0a0016, 0);
        backgroundContainer.appendChild(renderer.domElement);

        // åŠ¨æ€ç½‘æ ¼èƒŒæ™¯
        const gridGeometry = new THREE.PlaneGeometry(100, 100, 50, 50);
        const gridMaterial = new THREE.MeshBasicMaterial({
            color: 0x1a003c,
            wireframe: true,
            transparent: true,
            opacity: 0.1
        });
        const grid = new THREE.Mesh(gridGeometry, gridMaterial);
        grid.rotation.x = -Math.PI / 2;
        grid.position.y = -10;
        scene.add(grid);

        // å…‰çº¿è¿½è¸ªçº¿æ¡
        const lineGeometry = new THREE.BufferGeometry();
        const lineVertices = new Float32Array(600);
        for (let i = 0; i < 300; i++) {
            lineVertices[i*3] = (Math.random() - 0.5) * 40;
            lineVertices[i*3+1] = (Math.random() - 0.5) * 20;
            lineVertices[i*3+2] = -5 + Math.random() * 10;
        }
        lineGeometry.setAttribute('position', new THREE.BufferAttribute(lineVertices, 3));
        const lineMaterial = new THREE.LineBasicMaterial({
            color: 0x6C13FF,
            transparent: true,
            opacity: 0.3
        });
        const line = new THREE.Line(lineGeometry, lineMaterial);
        scene.add(line);

        camera.position.z = 15;

        // é¼ æ ‡äº¤äº’
        let mouseX = 0, mouseY = 0;
        window.addEventListener('mousemove', (e) => {
            mouseX = (e.clientX - window.innerWidth/2) * 0.005;
            mouseY = (e.clientY - window.innerHeight/2) * 0.005;
        });

        // åŠ¨ç”»å¾ªç¯
        function animate() {
            requestAnimationFrame(animate);
            
            // ç›¸æœºè·Ÿéšé¼ æ ‡
            camera.position.x += (mouseX - camera.position.x) * 0.05;
            camera.position.y += (-mouseY - camera.position.y) * 0.05;
            camera.lookAt(scene.position);

            // å…‰çº¿åŠ¨ç”»
            const positions = lineGeometry.attributes.position.array;
            for (let i = 0; i < positions.length; i += 3) {
                positions[i+1] += Math.sin(positions[i]*0.5 + performance.now()*0.001)*0.1;
            }
            lineGeometry.attributes.position.needsUpdate = true;

            renderer.render(scene, camera);
        }
        animate();

        // çª—å£è°ƒæ•´ç›‘å¬
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>

    <div id="aiWaveForm" class="position-fixed bottom-0 end-0 mb-4 me-4" style="width: 200px; height: 100px;"></div>

    <script>
        // AIæ³¢å½¢å¯è§†åŒ–
        function initAIWaveForm() {
            const container = document.getElementById('aiWaveForm');
            const waveScene = new THREE.Scene();
            const waveCamera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
            const waveRenderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            
            waveRenderer.setSize(container.clientWidth, container.clientHeight);
            container.appendChild(waveRenderer.domElement);

            // åˆ›å»ºæ³¢å½¢å‡ ä½•ä½“
            const waveGeometry = new THREE.PlaneGeometry(4, 2, 100, 100);
            const waveMaterial = new THREE.MeshBasicMaterial({
                color: 0x6C13FF,
                wireframe: true,
                transparent: true,
                opacity: 0.8
            });
            const wave = new THREE.Mesh(waveGeometry, waveMaterial);
            wave.position.z = -0.5;
            waveScene.add(wave);

            // å†…éƒ¨çƒä½“
            const sphereGeometry = new THREE.SphereGeometry(0.5, 32, 32);
            const sphereMaterial = new THREE.MeshBasicMaterial({
                color: 0xFF2B75,
                transparent: true,
                opacity: 0.7
            });
            const sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);
            waveScene.add(sphere);

            // å¤–éƒ¨å…‰ç¯
            const ringGeometry = new THREE.RingGeometry(0.6, 0.8, 64);
            const ringMaterial = new THREE.MeshBasicMaterial({
                color: 0x00D4FF,
                side: THREE.DoubleSide,
                transparent: true,
                opacity: 0.5
            });
            const ring = new THREE.Mesh(ringGeometry, ringMaterial);
            ring.rotation.x = Math.PI/2;
            waveScene.add(ring);

            waveCamera.position.z = 5;

            // åŠ¨ç”»
            function animateWave() {
                requestAnimationFrame(animateWave);
                
                // æ›´æ–°æ³¢å½¢
                const time = Date.now() * 0.001;
                const positions = waveGeometry.attributes.position.array;
                for (let i = 0; i < positions.length; i += 3) {
                    const x = positions[i];
                    const y = positions[i + 1];
                    
                    // è®¡ç®—æ³¢å½¢
                    const amplitude = 0.2;
                    const frequency = 2;
                    positions[i + 2] = amplitude * Math.sin(x * frequency + time) * Math.cos(y * frequency + time);
                }
                waveGeometry.attributes.position.needsUpdate = true;
                
                // æ—‹è½¬çƒä½“å’Œç¯
                sphere.rotation.y += 0.01;
                ring.rotation.z += 0.005;
                
                waveRenderer.render(waveScene, waveCamera);
            }
            animateWave();

            // çª—å£è°ƒæ•´ç›‘å¬
            window.addEventListener('resize', () => {
                const newWidth = container.clientWidth;
                const newHeight = container.clientHeight;
                waveCamera.aspect = newWidth / newHeight;
                waveCamera.updateProjectionMatrix();
                waveRenderer.setSize(newWidth, newHeight);
            });
        }
        
        // åˆå§‹åŒ–æ³¢å½¢
        initAIWaveForm();
    </script>
    
    <!-- æ‰‹åŠ¨æµ‹è¯•è¾…åŠ©å·¥å…· -->
    <script>
        // æµè§ˆå™¨ç¯å¢ƒä¸‹çš„è°ƒè¯•å’Œæµ‹è¯•è¾…åŠ©å‡½æ•°
        window.manualTestHelper = {
            checkLocalStorage: () => {
                console.log('ğŸ” æ£€æŸ¥æœ¬åœ°å­˜å‚¨çŠ¶æ€:');
                console.log('Guest Mode:', localStorage.getItem('guestMode'));
                console.log('User Status:', localStorage.getItem('userStatus'));
                console.log('All localStorage keys:', Object.keys(localStorage));
            },
            
            checkChatObjects: () => {
                console.log('ğŸ” æ£€æŸ¥èŠå¤©å¯¹è±¡çŠ¶æ€:');
                console.log('ChatCore exists:', typeof ChatCore !== 'undefined');
                console.log('ChatUI exists:', typeof ChatUI !== 'undefined');
                console.log('ChatAPI exists:', typeof ChatAPI !== 'undefined');
                console.log('chatInstance exists:', typeof window.chatInstance !== 'undefined');
                if (window.chatInstance) {
                    console.log('chatInstance details:', window.chatInstance);
                }
            },
            
            simulateMessage: (message = 'æµ‹è¯•æ¶ˆæ¯ï¼šä½ å¥½AI') => {
                console.log('ğŸš€ æ¨¡æ‹Ÿå‘é€æ¶ˆæ¯:', message);
                const messageInput = document.getElementById('messageInput');
                const sendButton = document.getElementById('sendButton');
                
                if (messageInput && sendButton) {
                    messageInput.value = message;
                    messageInput.dispatchEvent(new Event('input'));
                    sendButton.click();
                    console.log('âœ… æ¶ˆæ¯å‘é€å®Œæˆ');
                } else {
                    console.error('âŒ æœªæ‰¾åˆ°æ¶ˆæ¯è¾“å…¥æ¡†æˆ–å‘é€æŒ‰é’®');
                }
            },
            
            checkUIElements: () => {
                console.log('ğŸ” æ£€æŸ¥UIå…ƒç´ çŠ¶æ€:');
                const elements = [
                    'messageInput',
                    'sendButton', 
                    'chatMessages',
                    'guestModeButton',
                    'recordButton',
                    'imageGenButton',
                    'ttsButton',
                    'settingsBtn',
                    'historyBtn'
                ];
                
                elements.forEach(id => {
                    const element = document.getElementById(id);
                    console.log(`${id}:`, element ? 'âœ… å­˜åœ¨' : 'âŒ ä¸å­˜åœ¨');
                    if (element) {
                        console.log(`  æ ·å¼: ${element.style.display || 'default'}, ç±»å: ${element.className}`);
                    }
                });
            },
            
            activateGuestMode: () => {
                console.log('ğŸ¯ æ¿€æ´»è®¿å®¢æ¨¡å¼...');
                const guestButton = document.getElementById('guestModeButton');
                if (guestButton) {
                    guestButton.click();
                    setTimeout(() => {
                        const guestMode = localStorage.getItem('guestMode');
                        console.log('è®¿å®¢æ¨¡å¼çŠ¶æ€:', guestMode === 'true' ? 'âœ… å·²æ¿€æ´»' : 'âŒ æœªæ¿€æ´»');
                    }, 500);
                } else {
                    console.error('âŒ æœªæ‰¾åˆ°è®¿å®¢æ¨¡å¼æŒ‰é’®');
                }
            },
            
            testKeyboardShortcuts: () => {
                console.log('âŒ¨ï¸ æµ‹è¯•é”®ç›˜å¿«æ·é”®...');
                const messageInput = document.getElementById('messageInput');
                if (messageInput) {
                    messageInput.focus();
                    messageInput.value = 'æµ‹è¯•Enteré”®å‘é€';
                    
                    // æ¨¡æ‹ŸEnteré”®æŒ‰ä¸‹
                    const enterEvent = new KeyboardEvent('keydown', {
                        key: 'Enter',
                        keyCode: 13,
                        which: 13
                    });
                    messageInput.dispatchEvent(enterEvent);
                    console.log('âœ… Enteré”®æµ‹è¯•å®Œæˆ');
                } else {
                    console.error('âŒ æœªæ‰¾åˆ°æ¶ˆæ¯è¾“å…¥æ¡†');
                }
            },
            
            checkNetworkRequests: () => {
                console.log('ğŸŒ ç½‘ç»œè¯·æ±‚ç›‘æ§å·²å¯ç”¨ï¼Œè¯·æ£€æŸ¥Networké¢æ¿');
                // ç›‘æ§fetchè¯·æ±‚
                const originalFetch = window.fetch;
                window.fetch = function(...args) {
                    console.log('ğŸ“¡ APIè¯·æ±‚:', args[0]);
                    return originalFetch.apply(this, arguments)
                        .then(response => {
                            console.log('ğŸ“¡ APIå“åº”:', response.status, response.statusText);
                            return response;
                        })
                        .catch(error => {
                            console.error('ğŸ“¡ APIé”™è¯¯:', error);
                            throw error;
                        });
                };
            },
            
            runQuickTest: () => {
                console.log('ğŸ¯ è¿è¡Œå¿«é€ŸåŠŸèƒ½æµ‹è¯•...');
                
                // 1. æ£€æŸ¥é¡µé¢å…ƒç´ 
                this.checkUIElements();
                
                // 2. æ£€æŸ¥JavaScriptå¯¹è±¡
                this.checkChatObjects();
                
                // 3. æ£€æŸ¥æœ¬åœ°å­˜å‚¨
                this.checkLocalStorage();
                
                // 4. æµ‹è¯•è®¿å®¢æ¨¡å¼
                setTimeout(() => {
                    this.activateGuestMode();
                    
                    // 5. å‘é€æµ‹è¯•æ¶ˆæ¯
                    setTimeout(() => {
                        this.simulateMessage('è¿™æ˜¯ä¸€æ¡è‡ªåŠ¨æµ‹è¯•æ¶ˆæ¯');
                    }, 1000);
                }, 500);
                
                console.log('âœ… å¿«é€Ÿæµ‹è¯•åºåˆ—å·²å¯åŠ¨ï¼Œè¯·è§‚å¯Ÿæ§åˆ¶å°è¾“å‡º');
            }
        };
        
        // è‡ªåŠ¨åŠ è½½æç¤º
        console.log(`
ğŸ¯ AlingAi èŠå¤©é¡µé¢è°ƒè¯•å·¥å…·å·²åŠ è½½
=====================================

å¯ç”¨å‘½ä»¤:
â€¢ manualTestHelper.checkUIElements() - æ£€æŸ¥UIå…ƒç´ 
â€¢ manualTestHelper.checkChatObjects() - æ£€æŸ¥èŠå¤©å¯¹è±¡  
â€¢ manualTestHelper.checkLocalStorage() - æ£€æŸ¥æœ¬åœ°å­˜å‚¨
â€¢ manualTestHelper.activateGuestMode() - æ¿€æ´»è®¿å®¢æ¨¡å¼
â€¢ manualTestHelper.simulateMessage('æ¶ˆæ¯') - æ¨¡æ‹Ÿå‘é€æ¶ˆæ¯
â€¢ manualTestHelper.testKeyboardShortcuts() - æµ‹è¯•é”®ç›˜å¿«æ·é”®
â€¢ manualTestHelper.checkNetworkRequests() - ç›‘æ§ç½‘ç»œè¯·æ±‚
â€¢ manualTestHelper.runQuickTest() - è¿è¡Œå®Œæ•´æµ‹è¯•åºåˆ—

å¼€å§‹æµ‹è¯•: manualTestHelper.runQuickTest()
        `);
    </script>
</body>
</html>