<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>额度充值 - AlingAi Pro</title>
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/custom.css">
    <link rel="stylesheet" href="assets/css/dashboard.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- 侧边栏导航 -->
            <nav id="sidebar" class="col-md-3 col-lg-2 d-md-block bg-dark sidebar collapse">
                <div class="position-sticky pt-3">
                    <div class="user-profile text-center mb-4">
                        <img src="assets/images/user-avatar.png" alt="用户头像" class="avatar rounded-circle">
                        <h5 class="mt-2 text-white">用户名</h5>
                        <span class="badge bg-success">普通会员</span>
                    </div>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="user-console.html">
                                <i class="bi bi-speedometer2 me-2"></i> 控制台
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="api-usage.html">
                                <i class="bi bi-graph-up me-2"></i> API使用统计
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="wallet.html">
                                <i class="bi bi-wallet2 me-2"></i> 额度充值
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="api-keys.html">
                                <i class="bi bi-key me-2"></i> API密钥管理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="api-integration.html">
                                <i class="bi bi-code-slash me-2"></i> API对接生成
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="sdk-download.html">
                                <i class="bi bi-download me-2"></i> SDK下载
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="profile.html">
                                <i class="bi bi-person-circle me-2"></i> 个人设置
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="support-tickets.html">
                                <i class="bi bi-ticket-detailed me-2"></i> 技术支持
                            </a>
                        </li>
                    </ul>
                    
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>API社区</span>
                    </h6>
                    <ul class="nav flex-column mb-2">
                        <li class="nav-item">
                            <a class="nav-link" href="api-marketplace.html">
                                <i class="bi bi-shop me-2"></i> API市场
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="api-publish.html">
                                <i class="bi bi-cloud-upload me-2"></i> 发布API
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- 主内容区 -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">额度充值</h1>
                </div>

                <div class="row mb-4">
                    <!-- 账户余额卡片 -->
                    <div class="col-md-6 mb-4">
                        <div class="card h-100 border-0 shadow-sm">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center mb-4">
                                    <h5 class="card-title mb-0">账户余额</h5>
                                    <button class="btn btn-sm btn-outline-secondary">查看账单</button>
                                </div>
                                <div class="d-flex align-items-baseline">
                                    <h1 class="display-4 fw-bold text-primary">¥2,500</h1>
                                    <span class="ms-2 text-muted">可用额度</span>
                                </div>
                                <div class="progress mt-3" style="height: 8px;">
                                    <div class="progress-bar bg-success" role="progressbar" style="width: 85%"></div>
                                </div>
                                <div class="d-flex justify-content-between mt-2">
                                    <small class="text-muted">本月已使用: ¥450</small>
                                    <small class="text-muted">信用额度: ¥3,000</small>
                                </div>
                                <div class="mt-4">
                                    <p class="mb-1 text-success"><i class="bi bi-clock-history me-2"></i>上次充值: 2023-07-18</p>
                                    <p class="mb-0 text-muted"><i class="bi bi-calendar3 me-2"></i>账单周期: 2023-07-01 至 2023-07-31</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 充值指南卡片 -->
                    <div class="col-md-6 mb-4">
                        <div class="card h-100 border-0 shadow-sm">
                            <div class="card-body">
                                <h5 class="card-title mb-4">充值指南</h5>
                                <div class="mb-3">
                                    <div class="d-flex align-items-center mb-2">
                                        <div class="rounded-circle bg-primary text-white p-2 me-3" style="width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;">1</div>
                                        <h6 class="mb-0">选择充值套餐</h6>
                                    </div>
                                    <p class="ms-5 text-muted small">根据您的使用需求选择合适的充值额度</p>
                                </div>
                                <div class="mb-3">
                                    <div class="d-flex align-items-center mb-2">
                                        <div class="rounded-circle bg-primary text-white p-2 me-3" style="width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;">2</div>
                                        <h6 class="mb-0">选择支付方式</h6>
                                    </div>
                                    <p class="ms-5 text-muted small">支持多种支付方式，方便快捷</p>
                                </div>
                                <div class="mb-3">
                                    <div class="d-flex align-items-center mb-2">
                                        <div class="rounded-circle bg-primary text-white p-2 me-3" style="width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;">3</div>
                                        <h6 class="mb-0">完成支付</h6>
                                    </div>
                                    <p class="ms-5 text-muted small">支付成功后额度将立即到账</p>
                                </div>
                                <div class="alert alert-info mt-3">
                                    <i class="bi bi-info-circle-fill me-2"></i>
                                    充值遇到问题？请<a href="support-tickets.html" class="alert-link">联系客服</a>获取帮助
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 充值选项 -->
                <div class="card border-0 shadow-sm mb-4">
                    <div class="card-header bg-white py-3">
                        <h5 class="mb-0">选择充值套餐</h5>
                    </div>
                    <div class="card-body">
                        <div class="row g-4">
                            <!-- 套餐1 -->
                            <div class="col-md-4">
                                <div class="card h-100 package-card border-primary">
                                    <div class="card-body text-center">
                                        <h4 class="card-title text-primary">基础套餐</h4>
                                        <div class="py-3">
                                            <h2 class="mb-0">¥199</h2>
                                            <p class="text-muted">5,000 API调用</p>
                                        </div>
                                        <ul class="list-unstyled text-start mb-4">
                                            <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>接口调用额度</li>
                                            <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>标准服务支持</li>
                                            <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>有效期30天</li>
                                        </ul>
                                        <button class="btn btn-primary w-100" data-amount="199">选择此套餐</button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 套餐2 -->
                            <div class="col-md-4">
                                <div class="card h-100 package-card border-success position-relative">
                                    <div class="card-body text-center">
                                        <span class="position-absolute top-0 start-50 translate-middle badge bg-success px-3 py-2">推荐</span>
                                        <h4 class="card-title text-success">专业套餐</h4>
                                        <div class="py-3">
                                            <h2 class="mb-0">¥599</h2>
                                            <p class="text-muted">20,000 API调用</p>
                                        </div>
                                        <ul class="list-unstyled text-start mb-4">
                                            <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>接口调用额度</li>
                                            <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>优先技术支持</li>
                                            <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>有效期60天</li>
                                            <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>赠送SDK开发指南</li>
                                        </ul>
                                        <button class="btn btn-success w-100" data-amount="599">选择此套餐</button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 套餐3 -->
                            <div class="col-md-4">
                                <div class="card h-100 package-card border-info">
                                    <div class="card-body text-center">
                                        <h4 class="card-title text-info">企业套餐</h4>
                                        <div class="py-3">
                                            <h2 class="mb-0">¥1999</h2>
                                            <p class="text-muted">100,000 API调用</p>
                                        </div>
                                        <ul class="list-unstyled text-start mb-4">
                                            <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>接口调用额度</li>
                                            <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>7x24小时专属支持</li>
                                            <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>有效期90天</li>
                                            <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>专属技术顾问</li>
                                            <li class="mb-2"><i class="bi bi-check-circle-fill text-success me-2"></i>定制化解决方案</li>
                                        </ul>
                                        <button class="btn btn-info w-100 text-white" data-amount="1999">选择此套餐</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 自定义金额 -->
                        <div class="mt-4 p-3 bg-light rounded">
                            <div class="row align-items-center">
                                <div class="col-md-4">
                                    <h6 class="mb-0">自定义充值金额</h6>
                                </div>
                                <div class="col-md-4">
                                    <div class="input-group">
                                        <span class="input-group-text">¥</span>
                                        <input type="number" class="form-control" id="customAmount" placeholder="输入金额">
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <button class="btn btn-primary" id="customAmountBtn">确认充值</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 支付方式 -->
                <div class="card border-0 shadow-sm mb-4">
                    <div class="card-header bg-white py-3">
                        <h5 class="mb-0">选择支付方式</h5>
                    </div>
                    <div class="card-body">
                        <div class="row g-3">
                            <div class="col-md-3">
                                <div class="form-check payment-method-card">
                                    <input class="form-check-input" type="radio" name="paymentMethod" id="alipay" checked>
                                    <label class="form-check-label payment-label d-flex align-items-center justify-content-between" for="alipay">
                                        <span>支付宝</span>
                                        <img src="assets/images/alipay-logo.png" alt="支付宝" height="30">
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-check payment-method-card">
                                    <input class="form-check-input" type="radio" name="paymentMethod" id="wechat">
                                    <label class="form-check-label payment-label d-flex align-items-center justify-content-between" for="wechat">
                                        <span>微信支付</span>
                                        <img src="assets/images/wechat-pay-logo.png" alt="微信支付" height="30">
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-check payment-method-card">
                                    <input class="form-check-input" type="radio" name="paymentMethod" id="unionpay">
                                    <label class="form-check-label payment-label d-flex align-items-center justify-content-between" for="unionpay">
                                        <span>银联</span>
                                        <img src="assets/images/unionpay-logo.png" alt="银联" height="30">
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-check payment-method-card">
                                    <input class="form-check-input" type="radio" name="paymentMethod" id="invoice">
                                    <label class="form-check-label payment-label d-flex align-items-center justify-content-between" for="invoice">
                                        <span>对公转账</span>
                                        <i class="bi bi-bank fs-4"></i>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="mt-4 text-end">
                            <button class="btn btn-primary btn-lg" id="submitPayment">确认支付</button>
                        </div>
                    </div>
                </div>

                <!-- 交易记录 -->
                <div class="card border-0 shadow-sm mb-4">
                    <div class="card-header bg-white py-3 d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">交易记录</h5>
                        <div class="dropdown">
                            <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" id="transactionFilterDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                最近30天
                            </button>
                            <ul class="dropdown-menu" aria-labelledby="transactionFilterDropdown">
                                <li><a class="dropdown-item" href="#">最近7天</a></li>
                                <li><a class="dropdown-item" href="#">最近30天</a></li>
                                <li><a class="dropdown-item" href="#">最近90天</a></li>
                                <li><a class="dropdown-item" href="#">全部记录</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>交易编号</th>
                                        <th>日期</th>
                                        <th>金额</th>
                                        <th>支付方式</th>
                                        <th>状态</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="text-muted">#202307-1001</span></td>
                                        <td>2023-07-18 14:30:25</td>
                                        <td class="text-success">+¥599.00</td>
                                        <td>支付宝</td>
                                        <td><span class="badge bg-success">已完成</span></td>
                                        <td>
                                            <button class="btn btn-sm btn-outline-secondary">查看发票</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><span class="text-muted">#202307-0985</span></td>
                                        <td>2023-07-05 10:12:03</td>
                                        <td class="text-success">+¥199.00</td>
                                        <td>微信支付</td>
                                        <td><span class="badge bg-success">已完成</span></td>
                                        <td>
                                            <button class="btn btn-sm btn-outline-secondary">查看发票</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><span class="text-muted">#202306-0879</span></td>
                                        <td>2023-06-20 09:45:17</td>
                                        <td class="text-success">+¥1999.00</td>
                                        <td>银联</td>
                                        <td><span class="badge bg-success">已完成</span></td>
                                        <td>
                                            <button class="btn btn-sm btn-outline-secondary">查看发票</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><span class="text-muted">#202306-0754</span></td>
                                        <td>2023-06-10 16:21:38</td>
                                        <td class="text-danger">-¥450.00</td>
                                        <td>API调用扣费</td>
                                        <td><span class="badge bg-secondary">已结算</span></td>
                                        <td>
                                            <button class="btn btn-sm btn-outline-secondary">查看详情</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- 支付确认模态框 -->
    <div class="modal fade" id="paymentModal" tabindex="-1" aria-labelledby="paymentModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="paymentModalLabel">确认支付</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <div class="mb-4">
                        <span class="display-1 text-success"><i class="bi bi-qr-code"></i></span>
                        <h4 class="mt-3">请扫码支付</h4>
                        <p class="text-muted">请使用<span id="paymentMethodText">支付宝</span>扫描二维码完成支付</p>
                        <h3 class="text-primary">¥<span id="paymentAmountText">0</span></h3>
                    </div>
                    <div class="alert alert-warning">
                        <i class="bi bi-exclamation-triangle-fill me-2"></i>
                        请在15分钟内完成支付，超时订单将自动取消
                    </div>
                </div>
                <div class="modal-footer justify-content-center">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消支付</button>
                    <button type="button" class="btn btn-success" id="paymentCompleted">我已完成支付</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 支付成功模态框 -->
    <div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="successModalLabel">支付成功</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <div class="mb-4">
                        <span class="display-1 text-success"><i class="bi bi-check-circle-fill"></i></span>
                        <h4 class="mt-3">充值成功</h4>
                        <p class="text-muted">您的账户已成功充值 ¥<span id="successAmountText">0</span></p>
                        <p class="text-muted">当前账户余额: ¥<span id="newBalanceText">2500</span></p>
                    </div>
                </div>
                <div class="modal-footer justify-content-center">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">返回用户中心</button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script>
        // 选择套餐
        document.querySelectorAll('.package-card button').forEach(btn => {
            btn.addEventListener('click', function() {
                const amount = this.getAttribute('data-amount');
                document.getElementById('paymentAmountText').textContent = amount;
                
                // 显示支付模态框
                const paymentModal = new bootstrap.Modal(document.getElementById('paymentModal'));
                paymentModal.show();
            });
        });
        
        // 自定义金额
        document.getElementById('customAmountBtn').addEventListener('click', function() {
            const amount = document.getElementById('customAmount').value;
            if (amount && parseFloat(amount) > 0) {
                document.getElementById('paymentAmountText').textContent = amount;
                
                // 显示支付模态框
                const paymentModal = new bootstrap.Modal(document.getElementById('paymentModal'));
                paymentModal.show();
            } else {
                alert('请输入有效的充值金额');
            }
        });
        
        // 更改支付方式文本
        document.querySelectorAll('input[name="paymentMethod"]').forEach(input => {
            input.addEventListener('change', function() {
                const methodText = this.nextElementSibling.querySelector('span').textContent;
                document.getElementById('paymentMethodText').textContent = methodText;
            });
        });
        
        // 确认支付
        document.getElementById('submitPayment').addEventListener('click', function() {
            const paymentModal = new bootstrap.Modal(document.getElementById('paymentModal'));
            paymentModal.show();
        });
        
        // 支付完成
        document.getElementById('paymentCompleted').addEventListener('click', function() {
            // 关闭支付模态框
            bootstrap.Modal.getInstance(document.getElementById('paymentModal')).hide();
            
            // 设置成功金额
            const amount = document.getElementById('paymentAmountText').textContent;
            document.getElementById('successAmountText').textContent = amount;
            
            // 计算新余额
            const currentBalance = 2500;
            const newBalance = currentBalance + parseFloat(amount);
            document.getElementById('newBalanceText').textContent = newBalance;
            
            // 显示成功模态框
            const successModal = new bootstrap.Modal(document.getElementById('successModal'));
            successModal.show();
        });
    </script>
</body>
</html> 